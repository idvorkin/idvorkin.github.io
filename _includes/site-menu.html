<!-- Image and text -->
<header>
  <nav
    class="navbar navbar-expand-lg navbar-dark bg-dark d-flex align-items-center"
    style="padding: 0"
  >
    <span class="navbar-brand" href="#" style="padding: 0">
      <img
        id="autocomplete-search-box-button"
        src="{{ site.logo-png}}"
        height="60"
        alt=""
      />
    </span>
    <a class="nav-link nav-item nav-fa-icon" href="/todo_enjoy">
      <i class="fas fa-heart"></i>
    </a>
    <a class="nav-link nav-item nav-fa-icon" href="/ig66">
      <i class="fas fa-baby-carriage"></i>
    </a>
    <button
      id="login-btn"
      class="btn btn-outline-light btn-sm me-2"
      style="display: none"
    >
      <i class="fas fa-user"></i>
    </button>
    <a
      class="nav-fa-icon"
      href="https://github.com/idvorkin/idvorkin.github.io/blob/main/{{page.path}}"
    >
      <i class="fa fa-github"></i>
    </a>
    <span id="user-info" style="display: none">
      <img
        id="user-pic"
        class="nav-fa-icon"
        style="
          border-radius: 50%;
          vertical-align: middle;
          object-fit: cover;
          cursor: pointer;
        "
      />
    </span>
    <a class="nav-link nav-item nav-fa-icon" href="/about">
      <i class="fas fa-info-circle"></i>
    </a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarToCollapse"
      aria-controls="navbarToCollapse"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarToCollapse">
      <a class="nav-link nav-item nav-fa-icon" href="/tags"
        ><i class="fas fa-tags"></i
      ></a>
      <a class="nav-link nav-item nav-fa-icon" href="/7-habits"
        ><i class="fas fa-hammer"></i
      ></a>
      <a class="nav-link nav-item nav-fa-icon" href="/linkedin"
        ><i class="fab fa-linkedin"></i
      ></a>
    </div>
  </nav>
</header>
<div id="autocomplete-search-box" style="display: none">
  <!-- Keep search box hidden, and only access the detached state -->
</div>
<!-- Branch info for dev server -->
<script>
  // Embed branch info directly for dev server
  window.__GIT_BRANCH__ = "{{ site.data.git.branch }}";
</script>

<script type="module">
  import { CreateAutoComplete } from "/assets/js/index.js";
  $(document).ready(function () {
    // Only initialize autocomplete if we're not on the index page
    // The index page has its own initialization with custom settings
    if (window.location.pathname !== '/' && window.location.pathname !== '/index.html') {
      CreateAutoComplete(
        "{{ site.algolia.application_id}}",
        "{{ site.algolia.search_only_api_key }}",
        "{{ site.algolia.index_name }}",
        "#autocomplete-search-box",
        false
      );
    }
  });

  $("#autocomplete-search-box-button").click(function () {
    // Redirect to main page for search
    window.location.href = '/';
  });
</script>
