{"mappings":"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","sources":["<anon>","src/index.ts","src/shared.ts","src/main.ts","src/recent-posts.ts","src/recent.ts","src/search.ts","src/random-prompter.ts","src/page-loader.ts","src/blogger_import.ts"],"sourcesContent":["/**\n * Main JavaScript Entry Point\n *\n * This file serves as the single entry point for all JavaScript functionality\n * on the blog. It imports and initializes all necessary modules.\n */ // Import shared utilities\n/**\n * Shared utility functions\n *\n * This file contains utility functions that are shared across multiple modules.\n */ /**\n * Returns a random element from an array\n */ function $5c367f1c83ef0920$export$f6f0b6976f5f23e5(list) {\n    if (list.length === 0) return undefined;\n    return list[Math.floor(Math.random() * list.length)];\n}\nfunction $5c367f1c83ef0920$export$448332262467e042(array) {\n    let currentIndex = array.length, randomIndex;\n    // While there remain elements to shuffle.\n    while(currentIndex != 0){\n        // Pick a remaining element.\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex--;\n        // And swap it with the current element.\n        [array[currentIndex], array[randomIndex]] = [\n            array[randomIndex],\n            array[currentIndex]\n        ];\n    }\n    return array;\n}\nasync function $5c367f1c83ef0920$export$7691c4557333f2d2(parent_id, random_html_factory) {\n    // as string to queit type checker.\n    // Will be a noop if parent_id is already a jquery object\n    const $parent = $(parent_id);\n    if ($parent.length != 1) {\n        console.log(`append_randomizer_div ${parent_id} not present`);\n        return;\n    }\n    const new_element = $(await random_html_factory());\n    $parent.empty().append(new_element);\n    // Clicking on the element should result in a reload, unless you're\n    // Clicking on a link\n    $parent.click(async function(event) {\n        if (event.target.tagName != \"A\") {\n            const new_element = $(await random_html_factory());\n            $parent.empty().append(new_element);\n        }\n    });\n}\nlet $5c367f1c83ef0920$var$cached_link_info = null;\nasync function $5c367f1c83ef0920$export$46c928bda6aa7b36(url) {\n    if ($5c367f1c83ef0920$var$cached_link_info != null) return $5c367f1c83ef0920$var$cached_link_info;\n    const current_url = url || window.location.href;\n    const prodPrefix = \"https://idvork.in\";\n    const isProd = current_url.includes(prodPrefix);\n    var backlinks_url = \"https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/master/back-links.json?flush_cache=True\";\n    if (!isProd) backlinks_url = \"/back-links.json\";\n    try {\n        const response = await fetch(backlinks_url);\n        const data = await response.json();\n        $5c367f1c83ef0920$var$cached_link_info = data.url_info;\n        return $5c367f1c83ef0920$var$cached_link_info;\n    } catch (e) {\n        console.error(\"Error fetching link info\", e);\n        return {};\n    }\n}\n\n\n// Import shared functions\n\n/**\n * Recent Posts Display Module\n *\n * Fetches and displays the most recently modified posts\n * from the backlinks.json file.\n */ /**\n * Updates the recent posts container with post data\n */ async function $3900136bb96a6238$var$updateRecentPosts() {\n    console.log(\"\\uD83D\\uDD0D updateRecentPosts function called\");\n    const recentPostsContainer = document.getElementById(\"recent-posts\");\n    console.log(\"\\uD83D\\uDD0D recent-posts container element:\", recentPostsContainer);\n    if (!recentPostsContainer) {\n        console.error(\"\\u274C recent-posts container not found in DOM\");\n        return;\n    }\n    try {\n        console.log(\"\\uD83D\\uDD0D Fetching back-links.json...\");\n        // Fetch the backlinks data\n        const response = await fetch(\"/back-links.json\");\n        const data = await response.json();\n        console.log(\"\\uD83D\\uDD0D Received data from back-links.json:\", data);\n        console.log(\"\\uD83D\\uDD0D Keys in data:\", Object.keys(data));\n        // Check if the expected structure exists\n        if (!data.url_info) {\n            console.error(\"\\u274C Missing url_info in data structure\");\n            recentPostsContainer.innerHTML = \"<p>Error: Could not load recent posts data.</p>\";\n            return;\n        }\n        const urlInfoMap = data.url_info;\n        console.log(\"\\uD83D\\uDD0D Number of entries in urlInfoMap:\", Object.keys(urlInfoMap).length);\n        // Convert to array of pages for easier processing\n        const pages = Object.entries(urlInfoMap).map(([url, metadata])=>({\n                url: url,\n                title: metadata.title || url,\n                description: metadata.description || \"\",\n                doc_size: metadata.doc_size || 0,\n                last_modified: metadata.last_modified || \"\"\n            }));\n        console.log(\"\\uD83D\\uDD0D Transformed pages array, length:\", pages.length);\n        // Filter out pages that are likely redirects (these have empty descriptions and titles)\n        const realPages = pages.filter((page)=>page.description && page.description.trim() !== \"\" && page.title && page.title.trim() !== \"\");\n        console.log(\"\\uD83D\\uDD0D Filtered real pages, length:\", realPages.length);\n        console.log(\"\\uD83D\\uDD0D First 3 real pages:\", realPages.slice(0, 3));\n        // Sort by last_modified date (newest first)\n        const sortedPages = realPages.sort((a, b)=>{\n            if (a.last_modified && b.last_modified) {\n                console.log(\"\\uD83D\\uDD0D Comparing last_modified dates:\", a.url, a.last_modified, \"vs\", b.url, b.last_modified);\n                return new Date(b.last_modified).getTime() - new Date(a.last_modified).getTime();\n            }\n            // Fallback to doc_size if last_modified is not available\n            return b.doc_size - a.doc_size;\n        });\n        console.log(\"\\uD83D\\uDD0D Sorted pages, first 5:\", sortedPages.slice(0, 5).map((p)=>({\n                url: p.url,\n                title: p.title,\n                last_modified: p.last_modified\n            })));\n        // Take the top 5 most recent posts\n        const recentPages = sortedPages.slice(0, 5);\n        // Create the HTML\n        if (recentPages.length === 0) {\n            console.warn(\"\\u26A0\\uFE0F No recent pages found after filtering and sorting\");\n            recentPostsContainer.innerHTML = \"<p>No recent posts found.</p>\";\n            return;\n        }\n        const html = `\n      <ul>\n        ${recentPages.map((page)=>`\n          <li>\n            <a href=\"${page.url}\">${page.title}</a> - \n            ${page.description.split(\"\\n\")[0].substring(0, 100)}${page.description.length > 100 ? \"...\" : \"\"}\n          </li>\n        `).join(\"\")}\n      </ul>\n    `;\n        console.log(\"\\uD83D\\uDD0D Updating recent-posts content with HTML\", html.substring(0, 100) + \"...\");\n        recentPostsContainer.innerHTML = html;\n        console.log(\"\\u2705 Recent posts updated successfully\");\n    } catch (error) {\n        console.error(\"\\u274C Error loading recent posts:\", error);\n        recentPostsContainer.innerHTML = \"<p>Error loading recent posts. Please try again later.</p>\";\n    }\n}\nfunction $3900136bb96a6238$export$95771618035e82ed() {\n    console.log(\"\\uD83D\\uDD0D initRecentPosts called\");\n    // Check if document is already loaded\n    if (document.readyState === \"loading\") {\n        // Document still loading, add event listener\n        console.log(\"\\uD83D\\uDD0D Document still loading, adding DOMContentLoaded listener\");\n        document.addEventListener(\"DOMContentLoaded\", ()=>{\n            console.log(\"\\uD83D\\uDD0D DOMContentLoaded event fired, calling updateRecentPosts()\");\n            $3900136bb96a6238$var$updateRecentPosts();\n        });\n    } else {\n        // Document already loaded, run immediately\n        console.log(\"\\uD83D\\uDD0D Document already loaded, calling updateRecentPosts() immediately\");\n        $3900136bb96a6238$var$updateRecentPosts();\n    }\n    console.log(\"\\uD83D\\uDD0D initRecentPosts completed initial setup\");\n}\n\n\n/**\n * Recent Posts Display Module\n *\n * Fetches and displays all posts sorted by last modification date\n * from the backlinks.json file.\n */ \n/**\n * Updates the recent posts container with post data\n */ async function $75f29f91bc155aaa$var$updateRecentPosts() {\n    console.log(\"\\uD83D\\uDD0D updateRecentPosts function called\");\n    const recentContainer = document.getElementById(\"last-modified-posts\");\n    console.log(\"\\uD83D\\uDD0D recent-posts container element:\", recentContainer);\n    if (!recentContainer) {\n        console.error(\"\\u274C recent-posts container not found in DOM\");\n        return;\n    }\n    try {\n        console.log(\"\\uD83D\\uDD0D Fetching back-links.json...\");\n        // Fetch the backlinks data using the shared function\n        const urlInfoMap = await (0, $5c367f1c83ef0920$export$46c928bda6aa7b36)();\n        console.log(\"\\uD83D\\uDD0D Number of entries in urlInfoMap:\", Object.keys(urlInfoMap).length);\n        // Convert to array of pages for easier processing\n        const pages = Object.entries(urlInfoMap).map(([url, metadata])=>({\n                url: url,\n                title: metadata.title || url,\n                description: metadata.description || \"\",\n                doc_size: metadata.doc_size || 0,\n                last_modified: metadata.last_modified || \"\"\n            }));\n        console.log(\"\\uD83D\\uDD0D Transformed pages array, length:\", pages.length);\n        // Filter out pages that are likely redirects (these have empty descriptions and titles)\n        const realPages = pages.filter((page)=>page.description && page.description.trim() !== \"\" && page.title && page.title.trim() !== \"\");\n        console.log(\"\\uD83D\\uDD0D Filtered real pages, length:\", realPages.length);\n        // Sort by last_modified date (newest first)\n        const sortedPages = realPages.sort((a, b)=>{\n            if (a.last_modified && b.last_modified) return new Date(b.last_modified).getTime() - new Date(a.last_modified).getTime();\n            // Fallback to doc_size if last_modified is not available\n            return b.doc_size - a.doc_size;\n        });\n        // Create the HTML\n        if (sortedPages.length === 0) {\n            console.warn(\"\\u26A0\\uFE0F No pages found after filtering and sorting\");\n            recentContainer.innerHTML = \"<p>No modified posts found.</p>\";\n            return;\n        }\n        // Define how many posts to show initially and in the expanded section\n        const initialPostsCount = 15;\n        const remainingPosts = sortedPages.slice(initialPostsCount);\n        // Group initial posts by month/year for better organization\n        const groupedPages = {};\n        sortedPages.slice(0, initialPostsCount).forEach((page)=>{\n            if (!page.last_modified) return;\n            const date = new Date(page.last_modified);\n            const monthYear = `${date.toLocaleString(\"default\", {\n                month: \"long\"\n            })} ${date.getFullYear()}`;\n            if (!groupedPages[monthYear]) groupedPages[monthYear] = [];\n            groupedPages[monthYear].push(page);\n        });\n        // Create HTML with grouped structure for initial posts\n        let html = \"\";\n        Object.entries(groupedPages).forEach(([monthYear, pages])=>{\n            html += `\n        <h3>${monthYear}</h3>\n        <ul class=\"last-modified-list\">\n          ${pages.map((page)=>{\n                const date = new Date(page.last_modified);\n                const formattedDate = date.toLocaleDateString(\"en-US\", {\n                    day: \"numeric\",\n                    month: \"short\"\n                });\n                return `\n            <li>\n              <span class=\"date-badge\">${formattedDate}</span>\n              <a href=\"${page.url}\">${page.title}</a>\n              <p class=\"description\">${page.description.split(\"\\n\")[0].substring(0, 150)}${page.description.length > 150 ? \"...\" : \"\"}</p>\n            </li>\n          `;\n            }).join(\"\")}\n        </ul>\n      `;\n        });\n        // Add the \"Remaining Modified Files\" section if there are more posts\n        if (remainingPosts.length > 0) {\n            // Group remaining posts by month/year\n            const remainingGroupedPages = {};\n            remainingPosts.forEach((page)=>{\n                if (!page.last_modified) return;\n                const date = new Date(page.last_modified);\n                const monthYear = `${date.toLocaleString(\"default\", {\n                    month: \"long\"\n                })} ${date.getFullYear()}`;\n                if (!remainingGroupedPages[monthYear]) remainingGroupedPages[monthYear] = [];\n                remainingGroupedPages[monthYear].push(page);\n            });\n            // Create the remaining posts HTML (initially hidden)\n            let remainingHtml = \"\";\n            Object.entries(remainingGroupedPages).forEach(([monthYear, pages])=>{\n                remainingHtml += `\n          <h3>${monthYear}</h3>\n          <ul class=\"last-modified-list\">\n            ${pages.map((page)=>{\n                    const date = new Date(page.last_modified);\n                    const formattedDate = date.toLocaleDateString(\"en-US\", {\n                        day: \"numeric\",\n                        month: \"short\"\n                    });\n                    return `\n              <li>\n                <span class=\"date-badge\">${formattedDate}</span>\n                <a href=\"${page.url}\">${page.title}</a>\n                <p class=\"description\">${page.description.split(\"\\n\")[0].substring(0, 150)}${page.description.length > 150 ? \"...\" : \"\"}</p>\n              </li>\n            `;\n                }).join(\"\")}\n          </ul>\n        `;\n            });\n            // Add the toggle section\n            html += `\n        <div class=\"remaining-posts-section\">\n          <h2 id=\"remaining-posts-toggle\" class=\"remaining-toggle\">\n            <span class=\"toggle-icon\">\\u{25B6}</span> Remaining Modified Files (${remainingPosts.length} more)\n          </h2>\n          <div id=\"remaining-posts-content\" class=\"remaining-content\" style=\"display: none;\">\n            ${remainingHtml}\n          </div>\n        </div>\n      `;\n        }\n        // Add some CSS for styling\n        html = `\n      <style>\n        .last-modified-list {\n          list-style-type: none;\n          padding-left: 0;\n        }\n        .last-modified-list li {\n          margin-bottom: 1.5rem;\n          position: relative;\n        }\n        .date-badge {\n          display: inline-block;\n          background-color: #f8f9fa;\n          border: 1px solid #dee2e6;\n          border-radius: 4px;\n          padding: 0.2rem 0.5rem;\n          margin-right: 0.5rem;\n          font-size: 0.8rem;\n        }\n        .description {\n          margin-top: 0.5rem;\n          margin-bottom: 0;\n          color: #6c757d;\n        }\n        .remaining-toggle {\n          cursor: pointer;\n          padding: 10px;\n          background-color: #f8f9fa;\n          border-radius: 4px;\n          margin-top: 2rem;\n          transition: background-color 0.3s;\n        }\n        .remaining-toggle:hover {\n          background-color: #e9ecef;\n        }\n        .toggle-icon {\n          display: inline-block;\n          transition: transform 0.3s;\n        }\n        .toggle-icon.open {\n          transform: rotate(90deg);\n        }\n      </style>\n      ${html}\n    `;\n        console.log(\"\\uD83D\\uDD0D Updating recent-posts content with HTML\", html.substring(0, 100) + \"...\");\n        recentContainer.innerHTML = html;\n        // Add event listener for the toggle\n        const toggleElement = document.getElementById(\"remaining-posts-toggle\");\n        if (toggleElement) toggleElement.addEventListener(\"click\", function() {\n            const contentElement = document.getElementById(\"remaining-posts-content\");\n            const iconElement = this.querySelector(\".toggle-icon\");\n            if (contentElement.style.display === \"none\") {\n                contentElement.style.display = \"block\";\n                iconElement.classList.add(\"open\");\n            } else {\n                contentElement.style.display = \"none\";\n                iconElement.classList.remove(\"open\");\n            }\n        });\n        console.log(\"\\u2705 Recent posts updated successfully\");\n    } catch (error) {\n        console.error(\"\\u274C Error loading recent posts:\", error);\n        recentContainer.innerHTML = \"<p>Error loading modified posts. Please try again later.</p>\";\n    }\n}\nfunction $75f29f91bc155aaa$export$559328b3f08f1a41() {\n    console.log(\"\\uD83D\\uDD0D initRecentAllPosts called\");\n    // Check if document is already loaded\n    if (document.readyState === \"loading\") {\n        // Document still loading, add event listener\n        console.log(\"\\uD83D\\uDD0D Document still loading, adding DOMContentLoaded listener\");\n        document.addEventListener(\"DOMContentLoaded\", ()=>{\n            console.log(\"\\uD83D\\uDD0D DOMContentLoaded event fired, calling updateRecentPosts()\");\n            $75f29f91bc155aaa$var$updateRecentPosts();\n        });\n    } else {\n        // Document already loaded, run immediately\n        console.log(\"\\uD83D\\uDD0D Document already loaded, calling updateRecentPosts() immediately\");\n        $75f29f91bc155aaa$var$updateRecentPosts();\n    }\n    console.log(\"\\uD83D\\uDD0D initRecentAllPosts completed initial setup\");\n}\n\n\nlet $417ebc8475d6fc5d$var$tocExpand = true;\nfunction $417ebc8475d6fc5d$var$checkExpandToggle() {\n    const toc = $(\".ui-toc-dropdown .toc\");\n    const toggle = $(\".expand-toggle\");\n    if (!$417ebc8475d6fc5d$var$tocExpand) {\n        toc.removeClass(\"expand\");\n        toggle.text(\"Expand all\");\n    } else {\n        toc.addClass(\"expand\");\n        toggle.text(\"Collapse all\");\n    }\n}\nfunction $417ebc8475d6fc5d$var$SwapProdAndTest() {\n    /* Find page title. */ const url = window.location.href;\n    const prodPrefix = \"https://idvork.in\";\n    const testPrefix = \"http://localhost:4000\";\n    const isProd = url.includes(prodPrefix);\n    let newURL = url;\n    if (isProd) newURL = url.replace(prodPrefix, testPrefix);\n    else newURL = url.replace(testPrefix, prodPrefix);\n    window.location.href = newURL;\n}\nfunction $417ebc8475d6fc5d$var$ForceShowRightSideBar() {\n    let toc = $(\"#right-sidebar\");\n    let mainContent = $(\"#main-content\");\n    toc.removeClass();\n    toc.addClass(\"col-4 pl-0\");\n    mainContent.removeClass();\n    mainContent.addClass(\"col-8 pr-0\");\n    // Hide DropUp\n    const tocDropUp = $(\"#id-ui-toc-dropdown\");\n    tocDropUp.removeClass();\n    tocDropUp.addClass(\"d-none\");\n}\n// <!-- Copied from hackmd-extras.js -->\nfunction $417ebc8475d6fc5d$var$generateToc(id, showPinToc) {\n    const target = $(`#${id}`);\n    target.html(\"\");\n    /* eslint-disable no-unused-vars */ /* @ts-ignore:TS2339*/ const toc = new window.Toc(\"content-holder\", {\n        level: 3,\n        top: -1,\n        class: \"toc\",\n        ulClass: \"nav\",\n        targetId: id\n    });\n    /* eslint-enable no-unused-vars */ if (target.text() === \"undefined\") target.html(\"\");\n    const tocMenu = $('<div class=\"toc-menu\"></div');\n    const toggle = $('<a class=\"expand-toggle\" href=\"#\">Collapse all</a>');\n    const backToTop = $('<a class=\"back-to-top\" href=\"#\">Top of page</a>');\n    const gotoBottom = $('<a class=\"go-to-bottom\" href=\"#\">Bottom of page</a>');\n    const forceSideBar = $('<a class=\"go-to-bottom\" href=\"#\">Pin ToC</a>');\n    $417ebc8475d6fc5d$var$checkExpandToggle();\n    toggle.click((e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        $417ebc8475d6fc5d$var$tocExpand = !$417ebc8475d6fc5d$var$tocExpand;\n        $417ebc8475d6fc5d$var$checkExpandToggle();\n    });\n    backToTop.click((e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        window.scrollTo(0, 0);\n    });\n    gotoBottom.click((e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        window.scrollTo(0, document.body.scrollHeight);\n    });\n    forceSideBar.click((e)=>$417ebc8475d6fc5d$var$ForceShowRightSideBar());\n    tocMenu.append(toggle).append(backToTop).append(gotoBottom);\n    if (showPinToc) tocMenu.append(forceSideBar);\n    target.append(tocMenu);\n}\nfunction $417ebc8475d6fc5d$export$fc303307c4ed1d41(url_info) {\n    const title_href = `<a href=${url_info.url}>${url_info.title}</a>`;\n    const class_link = `link-box description truncate-css`;\n    const output = `\n<div>\n    <div class=\"${class_link}\"> ${title_href}:<span class=\"link-description\"> ${url_info.description} <span></div>\n</div>`;\n    return output;\n}\nasync function $417ebc8475d6fc5d$var$AddLinksToPage(allUrls) {\n    // TODO handle redirects\n    const page_path = new URL(document.URL).pathname;\n    const backlinks = allUrls[page_path]?.incoming_links;\n    const frontlinks = allUrls[page_path]?.outgoing_links;\n    if (!backlinks && !frontlinks) {\n        console.log(`No backlinks for the page ${page_path}`);\n        return;\n    }\n    let link_parent_location = $(\"#links-to-page\");\n    if (!link_parent_location) {\n        console.log(\"No back_link_location\");\n        return;\n    }\n    link_parent_location.append(`\n<ul class=\"nav nav-tabs nav-fill\" id=\"myTab\" role=\"tablist\">\n  <li class=\"nav-item\" role=\"presentation\">\n    <button class=\"nav-link active\" id=\"home-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#incoming\" type=\"button\" role=\"tab\" aria-controls=\"incoming\" aria-selected=\"true\">Links to here</button>\n  </li>\n  <li class=\"nav-item\" role=\"presentation\">\n    <button class=\"nav-link\" id=\"profile-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#outgoing\" type=\"button\" role=\"tab\" aria-controls=\"outgoing\" aria-selected=\"false\">Link from here</button>\n  </li>\n  <li class=\"nav-item\" role=\"presentation\">\n    <button class=\"nav-link\" id=\"profile-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#graph\" type=\"button\" role=\"tab\" aria-controls=\"outgoing\" aria-selected=\"false\">Graph</button>\n  </li>\n</ul>\n<div class=\"tab-content\" id=\"myTabContent\">\n  <div class=\"tab-pane fade show active \" id=\"incoming\" role=\"tabpanel\" aria-labelledby=\"incoming-tab\"></div>\n  <div class=\"tab-pane fade\" id=\"outgoing\" role=\"tabpanel\" aria-labelledby=\"outgoing-tab\"></div>\n  <div class=\"tab-pane fade\" id=\"graph\" role=\"tabpanel\" aria-labelledby=\"outgoing-tab\">\n    <span> View the graph for: </span>\n  </div>\n</div>\n`);\n    let incoming_location = link_parent_location.find(\"#incoming\");\n    var sort_descending_by_size = (a, b)=>Number(allUrls[b].doc_size) - Number(allUrls[a].doc_size);\n    if (backlinks) for (var link of backlinks.sort(sort_descending_by_size)){\n        const url_info = allUrls[link];\n        incoming_location.append($417ebc8475d6fc5d$export$fc303307c4ed1d41(url_info));\n    }\n    // remove front links not in\n    let clean_front_links = [];\n    for (var link of frontlinks)if (allUrls[link]) clean_front_links.push(link);\n    let outgoing_location = link_parent_location.find(\"#outgoing\");\n    if (clean_front_links) for (let link of clean_front_links.sort(sort_descending_by_size)){\n        const url_info = allUrls[link];\n        outgoing_location.append($417ebc8475d6fc5d$export$fc303307c4ed1d41(url_info));\n    }\n    console.log(\"Added Graph\");\n    const graph_location = link_parent_location.find(\"#graph\");\n    const stripped_page_path = page_path.replace(/\\//g, \"\");\n    graph_location.append(`<a href='/graph#${stripped_page_path}'>${page_path} (${stripped_page_path}) </a>`);\n}\nfunction $417ebc8475d6fc5d$var$make_html_summary_link(link, url_info) {\n    const attribution = `(From:<a href='${url_info.url}'> ${url_info.title}</a>)`;\n    return `<div>\n        <i> ${url_info.description}</i> ${attribution}\n    </div>`;\n}\nfunction $417ebc8475d6fc5d$var$make_html_summary_link_error(link, error) {\n    return `<span class='text-danger'>Error: Invalid link for ${link.attr(\"href\")} ${error} </span>`;\n}\nfunction $417ebc8475d6fc5d$var$AddSummarysToPage(backLinks) {\n    const summary_links = $.makeArray($(\".summary-link\"));\n    summary_links.forEach((raw_link)=>{\n        const link = $(raw_link);\n        try {\n            console.log(link.attr(\"href\"));\n            let ref = link.attr(\"href\");\n            // Resolve redirect\n            if (backLinks.redirects[ref] != undefined) ref = backLinks.redirects[ref];\n            // Look up in url info\n            if (backLinks.url_info[ref] == undefined) {\n                link.html($417ebc8475d6fc5d$var$make_html_summary_link_error(link, \"not found in url info\"));\n                return;\n            }\n            link.html($417ebc8475d6fc5d$var$make_html_summary_link(link, backLinks.url_info[ref]));\n        } catch (e) {\n            link.html($417ebc8475d6fc5d$var$make_html_summary_link_error(link, e));\n        }\n    });\n}\nasync function $417ebc8475d6fc5d$var$add_link_loader() {\n    $417ebc8475d6fc5d$var$AddLinksToPage(await (0, $5c367f1c83ef0920$export$46c928bda6aa7b36)());\n    $417ebc8475d6fc5d$var$AddSummarysToPage(await $417ebc8475d6fc5d$var$get_back_links());\n}\nlet $417ebc8475d6fc5d$var$cached_back_links = null;\nasync function $417ebc8475d6fc5d$var$get_back_links() {\n    if ($417ebc8475d6fc5d$var$cached_back_links != null) return $417ebc8475d6fc5d$var$cached_back_links;\n    const url = window.location.href;\n    const prodPrefix = \"https://idvork.in\";\n    const isProd = url.includes(prodPrefix);\n    var backlinks_url = \"\";\n    if (isProd) backlinks_url = \"https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/master/back-links.json?flush_cache=True\";\n    else backlinks_url = \"/back-links.json\";\n    const backlinksJson = await $.getJSON(backlinks_url);\n    $417ebc8475d6fc5d$var$cached_back_links = backlinksJson;\n    return $417ebc8475d6fc5d$var$cached_back_links;\n}\nfunction $417ebc8475d6fc5d$var$search() {\n    $(\"#autocomplete-search-box-button\").click();\n}\nfunction $417ebc8475d6fc5d$var$keyboard_shortcut_loader() {\n    const mouseTrap = Mousetrap();\n    mouseTrap.bind(\"s\", (e)=>$417ebc8475d6fc5d$var$search());\n    mouseTrap.bind(\"t\", (e)=>$417ebc8475d6fc5d$var$ForceShowRightSideBar());\n    mouseTrap.bind(\"p\", (e)=>$417ebc8475d6fc5d$var$SwapProdAndTest());\n    mouseTrap.bind(\"a\", (e)=>location.href = \"/all\");\n    mouseTrap.bind(\"m\", (e)=>location.href = \"/toc\");\n    mouseTrap.bind(\"6\", (e)=>location.href = \"/ig66\");\n    let shortcutHelp = `\nTry these shortcuts:\n  s - search\n  / - start chatting with others\n  t - force sidebar\n  p - swap prod and test\n  z - surprise me\n  a - all posts\n  m - global toc\n  6 - family journal\n  `;\n    mouseTrap.bind(\"?\", (e)=>alert(shortcutHelp));\n}\n/**\n * Replaces placeholder links in the document with their corresponding list content.\n * @param listReplacements - An object mapping placeholder texts to list elements.\n */ function $417ebc8475d6fc5d$var$replacePlaceholdersWithLists(listReplacements) {\n    Object.entries(listReplacements).forEach(([placeholderText, list])=>{\n        const placeholderLink = $(`a[href=${placeholderText}]`).first();\n        if (!placeholderLink.length) return; // Placeholder not found, skip\n        const listClone = $(list).clone();\n        listClone.children().first().remove(); // Remove the 'lookup id' from the list\n        placeholderLink.replaceWith(listClone);\n        // remove the list from the document\n        $(list).remove();\n    });\n}\n/**\n * Builds a map of list replacements by scanning the document for specially formatted lists.\n * @returns An object where keys are placeholder texts and values are the corresponding list elements.\n */ function $417ebc8475d6fc5d$var$buildListReplacementMap() {\n    const replacements = {};\n    $(\"ul\").each((_, list)=>{\n        const firstListItem = list.firstElementChild;\n        if (!firstListItem) return;\n        const firstItemText = firstListItem.textContent;\n        if (!firstItemText || !firstItemText.startsWith(\"l\")) return;\n        const listId = parseInt(firstItemText.substring(1));\n        if (isNaN(listId)) return;\n        replacements[firstItemText] = list;\n    });\n    return replacements;\n}\n/**\n * Replaces list placeholders in tables with actual list content.\n * This function orchestrates the process of finding and replacing placeholders.\n */ function $417ebc8475d6fc5d$var$replaceListPlaceholdersInTables() {\n    console.log(\"\\uD83D\\uDD04 Replacing List Placeholders in Tables\");\n    const listReplacements = $417ebc8475d6fc5d$var$buildListReplacementMap();\n    $417ebc8475d6fc5d$var$replacePlaceholdersWithLists(listReplacements);\n}\nfunction $417ebc8475d6fc5d$export$38653e1d7f0b5689() {\n    $($417ebc8475d6fc5d$var$add_link_loader);\n    $($417ebc8475d6fc5d$var$keyboard_shortcut_loader);\n    // Replace list placeholders in tables\n    $(document).ready($417ebc8475d6fc5d$var$replaceListPlaceholdersInTables);\n    console.log(\"\\uD83D\\uDE80 About to call initRecentPosts from main.ts\");\n    (0, $3900136bb96a6238$export$95771618035e82ed)();\n    console.log(\"\\u2705 Called initRecentPosts from main.ts\");\n    // Initialize recent posts if the container exists\n    if (document.getElementById(\"last-modified-posts\")) {\n        console.log(\"\\uD83D\\uDE80 About to call initRecentAllPosts from main.ts\");\n        (0, $75f29f91bc155aaa$export$559328b3f08f1a41)();\n        console.log(\"\\u2705 Called initRecentAllPosts from main.ts\");\n    }\n    $(function() {\n        $417ebc8475d6fc5d$var$generateToc(\"ui-toc\", true);\n        $417ebc8475d6fc5d$var$generateToc(\"ui-toc-affix\", false);\n    });\n}\n\n\n// For autocomplete\n\nconst { autocomplete: $bd9399c7e2744abd$var$autocomplete, getAlgoliaResults: $bd9399c7e2744abd$var$getAlgoliaResults } = window[\"@algolia/autocomplete-js\"];\n// Adding a query paramater.\n// import instantsearch from \"algoliasearch\";\nconst $bd9399c7e2744abd$var$search_placeholder_text = \"Search Igor's Musings ...\";\nfunction $bd9399c7e2744abd$export$7a5418d73bdac342(name, url) {\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"), results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return \"\";\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\nfunction $bd9399c7e2744abd$var$InstantSearchHitTemplate(hit) {\n    // https://www.algolia.com/doc/api-reference/widgets/infinite-hits/js/\n    try {\n        let url = hit.url;\n        if (hit.anchor) url += `#${hit.anchor}`;\n        const highlighted = hit._highlightResult;\n        if (!highlighted) console.log(\"No Highlight\", hit);\n        const title = highlighted.title.value;\n        const content = highlighted?.content?.value ?? \"\";\n        // <section class=\"notepad-post-excerpt\"><p>${content}</p></section>\n        const string_rep = `\n           <span onClick=\"window.location='${url}';\">\n              <b> <a href=\"${url}\">${title}</a></b> <span>${content}</span>\n           </span>\n        `;\n        return string_rep;\n    } catch (err) {\n        console.log(\"Error in hitTemplate\", err, hit);\n    }\n    return \"invalid HTML\";\n}\nfunction $bd9399c7e2744abd$export$4b6f1157302970e2(appid, search_api_key, index_name, initial_query) {\n    // Instanciating InstantSearch.js with Algolia credentials\n    const searchClient = algoliasearch(appid, search_api_key);\n    const search = instantsearch({\n        searchClient: searchClient,\n        indexName: index_name,\n        searchParameters: {\n            query: initial_query\n        }\n    });\n    // Adding searchbar and results widgets\n    search.addWidget(// @ts-ignore:TS2339\n    instantsearch.widgets.searchBox({\n        container: \"#search-box\",\n        placeholder: $bd9399c7e2744abd$var$search_placeholder_text,\n        poweredBy: true,\n        showSubmit: false,\n        showReset: false,\n        showLoadingIndicator: false\n    }));\n    search.addWidget(// @ts-ignore:TS2339\n    instantsearch.widgets.infiniteHits({\n        container: \"#search-hits\",\n        templates: {\n            item: $bd9399c7e2744abd$var$InstantSearchHitTemplate\n        },\n        item ({ item: item }) {\n            return `Result: ${item.name}`;\n        }\n    }));\n    return search;\n}\n// Copied from the docs, but this isn't working for me.\nfunction $bd9399c7e2744abd$var$AutoCompleteHitTemplateWithComponentDoesNotWork({ item: item, components: components, createElement: createElement, fragments: fragments }) {\n    console.log(item);\n    return components.Highlight({\n        hit: item\n    });\n}\n// Algolia uses some PREACT thing, which this project does not support\n// Reach way into algolia and build the HTML manually\nfunction $bd9399c7e2744abd$var$AutoCompleteHitTemplate({ item: item, createElement: createElement }) {\n    // https://www.algolia.com/doc/api-reference/widgets/infinite-hits/js/\n    return createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n            __html: $bd9399c7e2744abd$var$InstantSearchHitTemplate(item)\n        }\n    });\n}\nasync function $bd9399c7e2744abd$var$get_random_post() {\n    const all_url_info = await (0, $5c367f1c83ef0920$export$46c928bda6aa7b36)();\n    //  Yuk, find a clearere way to do this\n    const all_pages = Object.entries(all_url_info) // returns a list of [url, info]\n    .map((e)=>e[1]);\n    const random_post = (0, $5c367f1c83ef0920$export$f6f0b6976f5f23e5)(all_pages);\n    const ret = {\n        title: random_post[\"title\"],\n        url: random_post[\"url\"],\n        description: random_post[\"description\"]\n    };\n    return ret;\n}\n/**\n * Gets recent posts from the back-links.json file\n * Returns the specified number of most recently modified posts\n */ async function $bd9399c7e2744abd$var$get_recent_posts(count = 4) {\n    try {\n        const all_url_info = await (0, $5c367f1c83ef0920$export$46c928bda6aa7b36)();\n        // Convert to array of pages for easier processing\n        const pages = Object.entries(all_url_info).map(([url, metadata])=>({\n                url: url,\n                title: metadata.title || url,\n                description: metadata.description || \"\",\n                doc_size: metadata.doc_size || 0,\n                last_modified: metadata.last_modified || \"\"\n            }));\n        // Filter out pages that are likely redirects (these have empty descriptions and titles)\n        const realPages = pages.filter((page)=>page.description && page.description.trim() !== \"\" && page.title && page.title.trim() !== \"\");\n        // Sort by last_modified date (newest first)\n        const sortedPages = realPages.sort((a, b)=>{\n            if (a.last_modified && b.last_modified) return new Date(b.last_modified).getTime() - new Date(a.last_modified).getTime();\n            // Fallback to doc_size if last_modified is not available\n            return b.doc_size - a.doc_size;\n        });\n        // Take the top N most recent posts\n        return sortedPages.slice(0, count);\n    } catch (error) {\n        console.error(\"\\u274C Error loading recent posts:\", error);\n        return [];\n    }\n}\n/**\n * Gets random posts for search results\n * @param count Number of random posts to return (default: 3)\n */ async function $bd9399c7e2744abd$var$GetRandomSearchResults(count = 3) {\n    return {\n        sourceId: \"random_posts\",\n        async getItems () {\n            const sized_array = new Array(count).join(\"_\").split(\"_\");\n            const random_posts = await Promise.all(sized_array.map(async (e)=>$bd9399c7e2744abd$var$get_random_post()));\n            return random_posts;\n        },\n        getItemUrl ({ item: item }) {\n            const ret = item.url;\n            return ret;\n        },\n        templates: {\n            item ({ item: item, createElement: createElement }) {\n                return createElement(\"div\", {\n                    dangerouslySetInnerHTML: {\n                        __html: `\n            <span onClick=\"window.location='${item.url}';\" >\n           <b> <a href=\"${item.url}\">${item.title}</a></b>\n            <span>${item.description}</span>\n            </span>\n            `\n                    }\n                });\n            },\n            header ({ createElement: createElement }) {\n                return createElement(\"div\", {\n                    dangerouslySetInnerHTML: {\n                        __html: \"<i style='color:grey'>Random posts ...</i>\"\n                    }\n                });\n            }\n        }\n    };\n}\n/**\n * Gets recent posts for search results\n * @param count Number of recent posts to return (default: 4)\n */ async function $bd9399c7e2744abd$var$GetRecentSearchResults(count = 4) {\n    return {\n        sourceId: \"recent_posts\",\n        async getItems () {\n            const recentPosts = await $bd9399c7e2744abd$var$get_recent_posts(count);\n            return recentPosts;\n        },\n        getItemUrl ({ item: item }) {\n            const ret = item.url;\n            return ret;\n        },\n        templates: {\n            item ({ item: item, createElement: createElement }) {\n                return createElement(\"div\", {\n                    dangerouslySetInnerHTML: {\n                        __html: `\n            <span onClick=\"window.location='${item.url}';\" >\n           <b> <a href=\"${item.url}\">${item.title}</a></b>\n            <span>${item.description}</span>\n            </span>\n            `\n                    }\n                });\n            },\n            header ({ createElement: createElement }) {\n                return createElement(\"div\", {\n                    dangerouslySetInnerHTML: {\n                        __html: \"<i style='color:grey'>Recent posts ...</i>\"\n                    }\n                });\n            }\n        }\n    };\n}\n/**\n * Gets featured posts from Algolia search\n * @param searchClient Algolia search client\n * @param index_name Index name to search\n * @param query Search query\n * @param hitsPerPage Number of results to return (default: 3)\n * @param includeFamilyJournal Whether to include family journal posts\n */ function $bd9399c7e2744abd$var$GetAlgoliaResults(searchClient, index_name, query, hitsPerPage = 3, includeFamilyJournal = false) {\n    // By default don't include family journal.\n    let filter = \"NOT tags:family-journal\";\n    if (includeFamilyJournal) filter = \"\";\n    return {\n        sourceId: \"featured_posts\",\n        getItems () {\n            return $bd9399c7e2744abd$var$getAlgoliaResults({\n                searchClient: searchClient,\n                queries: [\n                    {\n                        indexName: index_name,\n                        query: query,\n                        filters: filter,\n                        params: {\n                            hitsPerPage: hitsPerPage,\n                            highlightPreTag: \"<span style='background:yellow'>\",\n                            highlightPostTag: \"</span>\"\n                        }\n                    }\n                ]\n            });\n        },\n        templates: {\n            item: $bd9399c7e2744abd$var$AutoCompleteHitTemplate,\n            header ({ createElement: createElement }) {\n                return createElement(\"div\", {\n                    dangerouslySetInnerHTML: {\n                        __html: \"<i style='color:grey'>Featured posts ...</i>\"\n                    }\n                });\n            }\n        },\n        getItemUrl ({ item: item }) {\n            let url = item.url;\n            if (item.anchor) url += `#${item.anchor}`;\n            const ret = url;\n            return ret;\n        }\n    };\n}\n/**\n * Creates an autocomplete search component\n * @param appid Algolia app ID\n * @param search_api_key Algolia search API key\n * @param index_name Algolia index name\n * @param autocomplete_id ID of the autocomplete element\n * @param includeFamilyJournal Whether to include family journal posts\n * @param featuredCount Number of featured posts to show (default: 3)\n * @param recentCount Number of recent posts to show (default: 4)\n * @param randomCount Number of random posts to show (default: 3)\n */ async function $bd9399c7e2744abd$export$b960629124c745df(appid, search_api_key, index_name, autocomplete_id, includeFamilyJournal, featuredCount = 3, recentCount = 4, randomCount = 3) {\n    const searchClient = algoliasearch(appid, search_api_key);\n    const randomSearchResults = await $bd9399c7e2744abd$var$GetRandomSearchResults(randomCount);\n    const recentSearchResults = await $bd9399c7e2744abd$var$GetRecentSearchResults(recentCount);\n    function GetSources({ query: query }) {\n        const isEmptySearch = query.length === 0;\n        if (isEmptySearch) // Searching for a space gives nice default results, so when no results search for that ...\n        query = \" \";\n        // Get featured posts (from Algolia search)\n        const featuredPosts = $bd9399c7e2744abd$var$GetAlgoliaResults(searchClient, index_name, query, isEmptySearch ? featuredCount : 10, includeFamilyJournal);\n        // For empty search, show featured, recent, and random posts\n        // For actual search, just show search results\n        if (isEmptySearch) return [\n            featuredPosts,\n            recentSearchResults,\n            randomSearchResults\n        ];\n        else return [\n            featuredPosts\n        ];\n    }\n    // Make sure we have the element\n    // autocomplete_id can be either '#id' or just 'id'\n    const elementId = autocomplete_id.startsWith(\"#\") ? autocomplete_id : `#${autocomplete_id}`;\n    if ($(elementId).length === 0) {\n        console.log(\"No autocomplete element found\", \"autocomplete_id\", autocomplete_id);\n        return;\n    }\n    // Setup Auto Complete Stuff\n    return $bd9399c7e2744abd$var$autocomplete({\n        container: elementId,\n        placeholder: $bd9399c7e2744abd$var$search_placeholder_text,\n        getSources: GetSources,\n        debug: false,\n        openOnFocus: true,\n        detachedMediaQuery: \"\"\n    });\n}\n\n\n\n// One of the imports is goofy\n// @ts-ignore:TS2792\n\nclass $6d425df71f5a07e7$export$2eba8ec3a333fdbb {\n    constructor({ name: name, value: value = 25, children: children = [] }){\n        this.name = name;\n        // Keep it interesting\n        this.children = (0, $5c367f1c83ef0920$export$448332262467e042)(children);\n        this.value = value;\n    }\n}\nfunction $6d425df71f5a07e7$export$859810117f914263() {\n    const map_category_to_prompts = $6d425df71f5a07e7$var$category_to_prompts();\n    for (const category of map_category_to_prompts.keys())$6d425df71f5a07e7$var$render_prompt_for_category(category, map_category_to_prompts.get(category));\n}\nfunction $6d425df71f5a07e7$var$render_prompt_for_category(category, prompts_for_category) {\n    //print one of the prompts\n    let get_random_prompt_html = ()=>`<span>${(0, $5c367f1c83ef0920$export$f6f0b6976f5f23e5)(prompts_for_category)}</span><span style=\"float: right; cursor: pointer;\" title=\"Click for another prompt\">\\u{1F504}</span>`;\n    // add a place holder for random div.\n    const new_element = $(`<div class=\"alert alert-primary\" role=\"alert\"/>`);\n    $(category).after(new_element);\n    (0, $5c367f1c83ef0920$export$7691c4557333f2d2)(new_element, get_random_prompt_html);\n}\n// The prompts page has a bunch of lists of prompts\n// Would be nice to \"pick a random one\" to make it less intimidating\n// So can add a box at the top with a random prompt on top\n// And a random per section prompt\nfunction $6d425df71f5a07e7$var$category_to_prompts() {\n    // prompt_categories are H3s with a UL under them, and the li's under there are the prompt.\n    const starting_node = $(\"h3\").first();\n    let current_category = starting_node;\n    let prompts_for_category = [];\n    let map_category_to_prompts = new Map();\n    for(let node = starting_node; node.length != 0; node = $(node).next()){\n        if (node.prop(\"tagName\") == \"H3\") {\n            // Build prompt map\n            map_category_to_prompts.set(current_category, prompts_for_category);\n            // start processing next categroy\n            current_category = node;\n            prompts_for_category = [];\n            continue;\n        }\n        // in a category, prompts are the children of the first unordered list, so skip\n        // stuff that isn't a list\n        if (node.prop(\"tagName\") != \"UL\") continue;\n        // we should now be the first list in the category\n        prompts_for_category = Array.from($(node).find(\"li\")).map((li)=>$(li).text());\n    }\n    map_category_to_prompts.set(current_category, prompts_for_category);\n    // Remove any categories that\n    return map_category_to_prompts;\n}\n// sunburst format is an inorder traversal of the tree.\n// good thing to unit test\nfunction* $6d425df71f5a07e7$var$breadth_first_walk(node) {\n    if (!node) return;\n    let Q = [];\n    Q.push([\n        node,\n        null\n    ]);\n    while(Q.length > 0){\n        const [current, parent] = Q.shift();\n        for (const child of current.children ?? [])Q.push([\n            child,\n            current\n        ]);\n        yield [\n            current,\n            parent\n        ];\n    }\n}\nfunction $6d425df71f5a07e7$var$tree_to_plotly_data_format(root) {\n    // Plotly needs a tree to be flattened into a set of lists\n    // ids\n    // labels\n    // parents\n    // values\n    // JScript Experts: Is there a desctructing for this?\n    const names_parent_names = Array.from($6d425df71f5a07e7$var$breadth_first_walk(root)).map(([n, p])=>[\n            n.name,\n            p?.name\n        ]);\n    return {\n        ids: names_parent_names.map(([n, p])=>n),\n        labels: names_parent_names.map(([n, p])=>n),\n        parents: names_parent_names.map(([n, p])=>p)\n    };\n}\nfunction $6d425df71f5a07e7$var$category_to_prompts_text() {\n    const map = $6d425df71f5a07e7$var$category_to_prompts();\n    const list = Array.from(map.entries()).map(([k, v], _index)=>[\n            k.text(),\n            v\n        ]);\n    return new Map(list);\n}\n// We have a tree of nested categories. [node(category, children)]\n// and prompts stored in a map[category, prompt]\n// Join and walk\nfunction $6d425df71f5a07e7$var$random_prompt_for_label(label, tree_node, map_node_to_prompts) {\n    // Find the label in the tree\n    // recall bread first search returns a parent as well.\n    const [clicked_node, _parent] = Array.from($6d425df71f5a07e7$var$breadth_first_walk(tree_node)).find(([current, _parent])=>current.name == label);\n    // console.log(Array.from(breadth_first_walk(tree_node)));\n    // console.log(\"Label\", label);\n    // console.log(\"Clicked Node\", clicked_node);\n    // console.log(map_node_to_prompts);\n    // Gather all the prompts for the children of the clicked node.\n    let all_prompts = Array.from($6d425df71f5a07e7$var$breadth_first_walk(clicked_node)).map(([node, _parent])=>node) // returns node and parent\n    .filter((node)=>map_node_to_prompts.has(node.name)).map((node)=>map_node_to_prompts.get(node.name).map((prompt)=>`${node.name}: ${prompt}`)).flat();\n    return (0, $5c367f1c83ef0920$export$f6f0b6976f5f23e5)(all_prompts);\n}\nasync function $6d425df71f5a07e7$export$722c014d8e7c7fc6(plot_element_id, random_text_div_id, root) {\n    const sunburst_tree_flat = $6d425df71f5a07e7$var$tree_to_plotly_data_format(root);\n    var sunburst_data = {\n        type: \"sunburst\",\n        outsidetextfont: {\n            size: 20,\n            color: \"#377eb8\"\n        },\n        // leaf: {opacity: 0.4},\n        hoverinfo: \"none\",\n        marker: {\n            line: {\n                width: 2\n            }\n        },\n        maxdepth: 2,\n        displayModeBar: false\n    };\n    Object.assign(sunburst_data, sunburst_tree_flat);\n    delete sunburst_data.values; // remove values to avoid sizing pie slices\n    var sunburst_layout = {\n        margin: {\n            l: 0,\n            r: 0,\n            b: 0,\n            t: 0\n        },\n        sunburstcolorway: [\n            \"#636efa\",\n            \"#ef553b\",\n            \"#00cc96\"\n        ]\n    };\n    const config = {\n        displayModeBar: false\n    };\n    const sunburstPlot = await Plotly.newPlot(plot_element_id, [\n        sunburst_data\n    ], sunburst_layout, config);\n    const set_random_prompt_text = (text)=>{\n        console.log(\"set_random_prompt_text\", text);\n        $(`#${random_text_div_id}`).text(text);\n    };\n    // Set click handler for div\n    $(`#${random_text_div_id}`).first().click(()=>{\n        const label = $(\"#sunburst text:first\").text(); // Hack should use an API to find center text\n        const prompt = $6d425df71f5a07e7$var$random_prompt_for_label(label, root, $6d425df71f5a07e7$var$category_to_prompts_text());\n        set_random_prompt_text(prompt);\n    });\n    sunburstPlot.on(\"plotly_sunburstclick\", (event)=>{\n        const label = event.points[0].label;\n        const prompt = $6d425df71f5a07e7$var$random_prompt_for_label(label, root, $6d425df71f5a07e7$var$category_to_prompts_text());\n        set_random_prompt_text(prompt);\n    });\n}\nconst $6d425df71f5a07e7$export$66234fbc0455149c = {\n    breadth_first_walk: $6d425df71f5a07e7$var$breadth_first_walk,\n    shuffle: (0, $5c367f1c83ef0920$export$448332262467e042)\n};\n\n\n// Only include this in the html files, one per file\n// This allows code to seet things to refactor\n\n\n\nfunction $92ca6dc26425dcae$var$html_for_blogpost(post) {\n    const item = $(\"<div/>\");\n    // TODO: HACK: Strip to the right of Week number\n    const title_href = `<h4> <a href='${post.url}'}>${post.title}</a></h4>`;\n    const monthNames = [\n        \"January\",\n        \"February\",\n        \"March\",\n        \"April\",\n        \"May\",\n        \"June\",\n        \"July\",\n        \"August\",\n        \"September\",\n        \"October\",\n        \"November\",\n        \"December\"\n    ];\n    item.append(title_href);\n    // HACK: Upsize to larger thumbnail, seems like blogger auto resizes to include a 320 image as well.\n    const thumbnail_url = post.thumbnail.replace(\"s72-c\", \"s320\");\n    const published_date = new Date(post.published);\n    const excerptDisplayText = `\n    <div> ${monthNames[published_date.getMonth()]} ${published_date.getFullYear()} - ${post.excerpt}\n    </div>\n   `;\n    if (post.thumbnail != \"\") {\n        console.log(post.title);\n        console.log(published_date);\n        item.append(// `<div> <a href='${post.url}'}><img src='${thumbnail_url}'/></div>`\n        `\n      <div style='overflow:auto'>\n\n      <a href='${post.url}'}><img class=\"img-fluid\" style='float:left; margin-right:10px' src='${thumbnail_url}'/></a>\n      ${excerptDisplayText}\n      </div>`);\n    } else item.append(excerptDisplayText);\n    const ret = item.html();\n    return ret;\n}\nfunction $92ca6dc26425dcae$var$get_achievement_posts(imported_posts) {\n    return imported_posts.filter((post)=>post.title.toLowerCase().includes(\"achievement\"));\n}\nfunction $92ca6dc26425dcae$var$get_recent_posts(imported_posts) {\n    return imported_posts.filter((post)=>post.tags.includes(\"family-journal\"));\n}\nfunction $92ca6dc26425dcae$var$ProcessImports(posts) {\n    console.log(\"Processing\", posts.length, \"posts\");\n    if (!posts) {\n        console.log(`No posts being imported`);\n        return;\n    }\n    //\n    // Import all history\n    const random_div = \"#random-post\";\n    const achievement_div = \"#achievment\";\n    const random_recent = \"#random-recent\";\n    (0, $5c367f1c83ef0920$export$7691c4557333f2d2)(random_div, ()=>$92ca6dc26425dcae$var$html_for_blogpost((0, $5c367f1c83ef0920$export$f6f0b6976f5f23e5)(posts)));\n    // Add a random achievement post\n    (0, $5c367f1c83ef0920$export$7691c4557333f2d2)(achievement_div, ()=>$92ca6dc26425dcae$var$html_for_blogpost((0, $5c367f1c83ef0920$export$f6f0b6976f5f23e5)($92ca6dc26425dcae$var$get_achievement_posts(posts))));\n    (0, $5c367f1c83ef0920$export$7691c4557333f2d2)(random_recent, ()=>$92ca6dc26425dcae$var$html_for_blogpost((0, $5c367f1c83ef0920$export$f6f0b6976f5f23e5)($92ca6dc26425dcae$var$get_recent_posts(posts))));\n}\nfunction $92ca6dc26425dcae$export$42081a69ee292945() {\n    const imported_posts_url = \"/ig66/ig66-export.json\";\n    $.getJSON(imported_posts_url, $92ca6dc26425dcae$var$ProcessImports);\n}\nfunction $92ca6dc26425dcae$export$d5d79470c0eabcc3(role) {\n    // url encode the role title\n    const role_file_name = role.title.replace(/ /g, \"%20\");\n    const voices = [\n        \"igor\",\n        \"ammon\"\n    ];\n    const random_voice = voices[Math.floor(Math.random() * voices.length)];\n    // Yucky - toggle_play_pause is a global function in enjoy2.md - bleh,  so brittle\n    return `\n  <div>\n    <audio id=\"eulogy-player\">\n      <source src=\"https://github.com/idvorkin/blob/raw/master/read_eulogy/${random_voice}/${role_file_name}.mp3\" type=\"audio/mp3\">\n    </audio>\n  <b>${role.title} <a class='lead' onclick=\"toggle_play_pause('eulogy-player')\">\\u{1F508}</a></b> - ${role.summary}\n  </div>\n  `;\n}\nfunction $92ca6dc26425dcae$var$ProcessEulogy(div, roles) {\n    if (!roles) {\n        console.log(`No roles being imported`);\n        return;\n    }\n    console.log(\"Processing\", roles.roles.length, \"roles\");\n    // Import all history\n    (0, $5c367f1c83ef0920$export$7691c4557333f2d2)(div, ()=>$92ca6dc26425dcae$export$d5d79470c0eabcc3((0, $5c367f1c83ef0920$export$f6f0b6976f5f23e5)(roles.roles)));\n}\nfunction $92ca6dc26425dcae$export$13004ff06099531d(div) {\n    const imported_posts_url = \"/eulogy.json\";\n    $.getJSON(imported_posts_url, (roles)=>$92ca6dc26425dcae$var$ProcessEulogy(div, roles));\n}\n\n\nclass $9f283bd0ad425971$var$SevenHabits {\n    get_tree() {\n        const root = new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n            name: \"7H \",\n            children: [\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"\"\n                }),\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Be Proactive\"\n                }),\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Begin with the end in mind\"\n                }),\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"First things First\"\n                }),\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Think Win/Win\"\n                }),\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"First Understand\"\n                }),\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Synergize\"\n                }),\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Sharpen the Saw\"\n                })\n            ]\n        });\n        return root;\n    }\n}\nclass $9f283bd0ad425971$var$ThingsIEnjoy {\n    get_tree() {\n        const health = new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n            name: \"Health\",\n            children: [\n                {\n                    name: \"Physical\"\n                },\n                {\n                    name: \"Emotional\"\n                },\n                {\n                    name: \"Cognative\"\n                }\n            ],\n            value: 31\n        });\n        const magic = new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n            name: \"Magic\",\n            children: [\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Card Magic\"\n                }),\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Coin Magic\"\n                }),\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Band Magic\"\n                })\n            ]\n        });\n        const hobbies = new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n            name: \"Hobbies\",\n            children: [\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Biking\"\n                }),\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Tech\"\n                }),\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Juggling\"\n                })\n            ]\n        });\n        const relationships = new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n            name: \"Relationships\",\n            children: [\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Zach\"\n                }),\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Amelia\"\n                }),\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Tori\"\n                }),\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Friends\"\n                })\n            ]\n        });\n        const joy = new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n            name: \"Joy\",\n            children: [\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Balloons\"\n                }),\n                new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n                    name: \"Joy to Others\"\n                })\n            ]\n        });\n        return new (0, $6d425df71f5a07e7$export$2eba8ec3a333fdbb)({\n            name: \"Invest in\",\n            children: [\n                health,\n                magic,\n                hobbies,\n                relationships,\n                joy\n            ]\n        });\n    }\n}\n// TODO: De-Dup from blogger_import.ts\nfunction $9f283bd0ad425971$export$2a7b436ba2130b9d({ url: url, title: title, description: description }) {\n    // TODO: HACK: Strip to the right of Week number\n    const title_href = `<a href='${url}'}>${title}</a>`;\n    // random id for audio player\n    const id = \"audio_player_\" + Math.floor(Math.random() * 10000000000);\n    // filename is URL with '/' turned to '_'\n    const filename = url.replace(/\\//g, \"_\");\n    // console.log(post)\n    return `\n    <div>\n        <audio id='${id}'>\n          <source src=\"https://github.com/idvorkin/blob/raw/master/url_info_voices/igor/${filename}.mp3\" type=\"audio/mp3\">\n        </audio>\n      ${title_href}:  <b><a class='lead' onclick=\"toggle_play_pause('${id}')\">\\u{1F508}</a></b> ${description}\n    </div>\n  `;\n}\nasync function $9f283bd0ad425971$var$make_random_post_html() {\n    const all_url_info = await (0, $5c367f1c83ef0920$export$46c928bda6aa7b36)();\n    //  Yuk, find a clearere way to do this\n    const all_pages = Object.entries(all_url_info) // returns a list of [url, info]\n    .map((e)=>e[1]);\n    const random_post = (0, $5c367f1c83ef0920$export$f6f0b6976f5f23e5)(all_pages);\n    return $9f283bd0ad425971$export$2a7b436ba2130b9d({\n        url: random_post[\"url\"],\n        title: random_post[\"title\"],\n        description: random_post[\"description\"]\n    });\n}\nfunction $9f283bd0ad425971$export$a05fecdd139cc0d6() {\n    (0, $92ca6dc26425dcae$export$13004ff06099531d)(\"#e1\");\n    (0, $92ca6dc26425dcae$export$13004ff06099531d)(\"#e2\");\n    (0, $92ca6dc26425dcae$export$13004ff06099531d)(\"#e3\");\n}\nfunction $9f283bd0ad425971$export$ed4ccdb0ea359d16() {\n    (0, $6d425df71f5a07e7$export$722c014d8e7c7fc6)(\"sunburst\", \"sunburst_text\", new $9f283bd0ad425971$var$ThingsIEnjoy().get_tree());\n    (0, $6d425df71f5a07e7$export$859810117f914263)();\n    (0, $92ca6dc26425dcae$export$42081a69ee292945)(); // has a random achievement post\n    (0, $92ca6dc26425dcae$export$13004ff06099531d)(\"#random-eulogy-role\");\n    (0, $5c367f1c83ef0920$export$7691c4557333f2d2)(\"#random-blog-posts\", $9f283bd0ad425971$var$make_random_post_html);\n}\nfunction $9f283bd0ad425971$export$690b8256aeac9ddf() {\n    (0, $6d425df71f5a07e7$export$722c014d8e7c7fc6)(\"sunburst\", \"sunburst_text\", new $9f283bd0ad425971$var$SevenHabits().get_tree());\n    (0, $6d425df71f5a07e7$export$859810117f914263)();\n}\nfunction $9f283bd0ad425971$export$5971d3574f6a5694() {\n    (0, $92ca6dc26425dcae$export$42081a69ee292945)();\n}\nfunction $9f283bd0ad425971$export$be5467d8e644e939() {\n    $9f283bd0ad425971$var$make_balance_chart_by_desired_time_rest(\"balance-heatmap-rest\");\n    $9f283bd0ad425971$var$make_balance_chart_by_work(\"balance-heatmap-work\");\n    $9f283bd0ad425971$var$make_radar_map(\"balance-radar-map-ideal\");\n}\nconst $9f283bd0ad425971$export$66234fbc0455149c = {\n    SevenHabits: $9f283bd0ad425971$var$SevenHabits,\n    ThingsIEnjoy: $9f283bd0ad425971$var$ThingsIEnjoy\n};\nconst $9f283bd0ad425971$var$months = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\"\n];\nasync function $9f283bd0ad425971$var$make_radar_map(div) {\n    const data = [\n        {\n            type: \"scatterpolar\",\n            r: [\n                8,\n                8,\n                8,\n                5,\n                8,\n                8,\n                8\n            ],\n            theta: [\n                \"Work\",\n                \"Tech\",\n                \"Health\",\n                \"Hobbies\",\n                \"Relationships\",\n                \"Magic\",\n                \"Work\"\n            ],\n            name: \"2020 Goal\",\n            fill: \"toself\"\n        },\n        {\n            type: \"scatterpolar\",\n            r: [\n                7,\n                7,\n                5,\n                5,\n                5,\n                9,\n                7\n            ],\n            theta: [\n                \"Work\",\n                \"Tech\",\n                \"Health\",\n                \"Hobbies\",\n                \"Relationships\",\n                \"Magic\",\n                \"Work\"\n            ],\n            name: \"2020 Actual\",\n            fill: \"toself\"\n        }\n    ];\n    const layout = {\n        polar: {\n            radialaxis: {\n                visible: true,\n                range: [\n                    0,\n                    10\n                ]\n            }\n        },\n        showlegend: true\n    };\n    const config = {\n        displayModeBar: false\n    };\n    Plotly.newPlot(div, data, layout, config);\n}\nconst $9f283bd0ad425971$var$row_height = 20;\nconst $9f283bd0ad425971$var$heatmap_base = 100;\nconst $9f283bd0ad425971$var$ideal_color = \"#00BF00\";\nasync function $9f283bd0ad425971$var$make_balance_chart_by_work(div) {\n    const roles = [\n        \"Tech\",\n        \"Work\"\n    ];\n    const layout = {\n        height: $9f283bd0ad425971$var$row_height * roles.length + $9f283bd0ad425971$var$heatmap_base,\n        margin: {\n            t: 5\n        },\n        pad: 0\n    };\n    const color_scale = [\n        [\n            0.0,\n            \"darkblue\"\n        ],\n        [\n            0.4,\n            \"blue\"\n        ],\n        [\n            0.5,\n            $9f283bd0ad425971$var$ideal_color\n        ],\n        [\n            0.6,\n            \"darkred\"\n        ],\n        [\n            1.0,\n            \"red\"\n        ]\n    ];\n    const gap_desire_over_time = [\n        [\n            7,\n            4,\n            7,\n            8,\n            2,\n            4,\n            2,\n            3,\n            2,\n            8\n        ],\n        [\n            10,\n            7,\n            5,\n            5,\n            3,\n            5,\n            6,\n            6,\n            7,\n            5\n        ]\n    ];\n    const data = [\n        {\n            colorscale: color_scale,\n            zmin: 0,\n            zmax: 10,\n            x: $9f283bd0ad425971$var$months.slice(2, 13),\n            y: roles,\n            z: gap_desire_over_time,\n            type: \"heatmap\"\n        }\n    ];\n    const config = {\n        displayModeBar: false\n    };\n    await Plotly.newPlot(div, data, layout, config);\n}\n// Could be over or under\n// GREEN be Good,\n// RED be Bad\nasync function $9f283bd0ad425971$var$make_balance_chart_by_desired_time_rest(div) {\n    const roles = [\n        \"Health\",\n        \"Hobbies\",\n        \"Family\",\n        \"Magic\"\n    ];\n    const gap_desire_over_time = [\n        // J, F, M, A, M, J, J, A, S, O, N, D\n        [\n            4,\n            4,\n            3,\n            4,\n            5,\n            3,\n            2,\n            2,\n            3,\n            2\n        ],\n        [\n            4,\n            4,\n            3,\n            4,\n            5,\n            4,\n            4,\n            2,\n            4,\n            5\n        ],\n        [\n            2,\n            3,\n            3,\n            4,\n            1,\n            5,\n            4,\n            3,\n            2,\n            4\n        ],\n        [\n            5,\n            5,\n            5,\n            4,\n            5,\n            5,\n            4,\n            5,\n            4,\n            5\n        ]\n    ];\n    const color_scale = [\n        [\n            0.0,\n            \"red\"\n        ],\n        [\n            0.4,\n            \"darkred\"\n        ],\n        [\n            0.5,\n            $9f283bd0ad425971$var$ideal_color\n        ],\n        [\n            0.6,\n            \"blue\"\n        ],\n        [\n            1.0,\n            \"darkblue\"\n        ]\n    ];\n    const data = [\n        {\n            colorscale: color_scale,\n            zmin: 0,\n            zmax: 10,\n            x: $9f283bd0ad425971$var$months.slice(2, 13),\n            y: roles.reverse(),\n            z: gap_desire_over_time.reverse(),\n            type: \"heatmap\"\n        }\n    ];\n    const config = {\n        displayModeBar: false\n    };\n    const layout = {\n        height: $9f283bd0ad425971$var$row_height * roles.length + $9f283bd0ad425971$var$heatmap_base,\n        margin: {\n            t: 5\n        },\n        pad: 0\n    };\n    await Plotly.newPlot(div, data, layout, config);\n}\n\n\n// Main initialization\n$(document).ready(function() {\n    // Initialize main functionality\n    let tocExpand = true;\n    // Call the global initialization function from main.ts\n    if (typeof defer === \"function\") defer((0, $417ebc8475d6fc5d$export$38653e1d7f0b5689));\n    else (0, $417ebc8475d6fc5d$export$38653e1d7f0b5689)();\n    // Setup event handlers\n    const setupKeyboardShortcuts = ()=>{\n        if (typeof Mousetrap !== \"undefined\") Mousetrap.bind(\"s\", ()=>focusSearch());\n    };\n    const focusSearch = ()=>{\n        const searchInput = $(\"#search-box\");\n        if (searchInput.length > 0) searchInput.focus();\n    };\n    // Initialize components\n    setupKeyboardShortcuts();\n    $9f9b9944cd5d5def$var$initializeTOC();\n    $9f9b9944cd5d5def$var$initializeSearch();\n    // Example usage of shared utilities\n    const items = [\n        \"item1\",\n        \"item2\",\n        \"item3\"\n    ];\n    console.log(\"Random item:\", (0, $5c367f1c83ef0920$export$f6f0b6976f5f23e5)(items));\n    console.log(\"Shuffled items:\", (0, $5c367f1c83ef0920$export$448332262467e042)([\n        ...items\n    ]));\n    // Initialize link loading\n    (0, $5c367f1c83ef0920$export$46c928bda6aa7b36)().then((links)=>{\n        console.log(\"Links loaded, count:\", Object.keys(links).length);\n    });\n    // Log successful initialization\n    console.log(\"Blog JavaScript initialized\");\n});\n// Initialize TOC\nfunction $9f9b9944cd5d5def$var$initializeTOC() {\n    const tocElement = $(\"#toc-content\");\n    if (tocElement.length > 0) // TOC initialization code\n    console.log(\"TOC initialized\");\n}\n// Initialize search\nfunction $9f9b9944cd5d5def$var$initializeSearch() {\n    const searchElement = $(\"#search-box\");\n    if (searchElement.length > 0) // Search initialization code\n    console.log(\"Search initialized\");\n}\n\n\nexport {$5c367f1c83ef0920$export$f6f0b6976f5f23e5 as random_from_list, $5c367f1c83ef0920$export$448332262467e042 as shuffle, $5c367f1c83ef0920$export$7691c4557333f2d2 as append_randomizer_div, $5c367f1c83ef0920$export$46c928bda6aa7b36 as get_link_info, $417ebc8475d6fc5d$export$38653e1d7f0b5689 as load_globals, $417ebc8475d6fc5d$export$fc303307c4ed1d41 as MakeBackLinkHTML, $bd9399c7e2744abd$export$b960629124c745df as CreateAutoComplete, $75f29f91bc155aaa$export$559328b3f08f1a41 as initRecentAllPosts, $6d425df71f5a07e7$export$859810117f914263 as add_random_prompts, $6d425df71f5a07e7$export$722c014d8e7c7fc6 as add_sunburst, $6d425df71f5a07e7$export$2eba8ec3a333fdbb as TreeNode, $9f283bd0ad425971$export$ed4ccdb0ea359d16 as load_enjoy2, $9f283bd0ad425971$export$690b8256aeac9ddf as load_7_habits, $9f283bd0ad425971$export$2a7b436ba2130b9d as makePostPreviewHTML, $9f283bd0ad425971$export$5971d3574f6a5694 as load_ig66, $9f283bd0ad425971$export$be5467d8e644e939 as load_balance, $9f283bd0ad425971$export$a05fecdd139cc0d6 as load_random_eulogy};\n//# sourceMappingURL=index.js.map\n","/**\n * Main JavaScript Entry Point\n *\n * This file serves as the single entry point for all JavaScript functionality\n * on the blog. It imports and initializes all necessary modules.\n */\n\n// Import shared utilities\nimport {\n  random_from_list,\n  shuffle,\n  append_randomizer_div,\n  get_link_info,\n  type IURLInfo,\n  type IURLInfoMap,\n} from \"./shared\";\n\n// Import main functionality\nimport { load_globals, MakeBackLinkHTML } from \"./main\";\n\n// Import search functionality\nimport { CreateAutoComplete } from \"./search\";\n\n// Import recent posts functionality\nimport { initRecentAllPosts } from \"./recent\";\n\n// Import random-prompter functionality\nimport { add_random_prompts, add_sunburst, TreeNode } from \"./random-prompter\";\n\n// Import page-loader functionality\nimport {\n  load_enjoy2,\n  load_7_habits,\n  makePostPreviewHTML,\n  load_ig66,\n  load_balance,\n  load_random_eulogy,\n} from \"./page-loader\";\n\n// Declare global variables from external libraries\ndeclare var $: any;\ndeclare var Mousetrap: any;\ndeclare global {\n  function defer(fn: Function): void;\n}\n\n// Main initialization\n$(document).ready(function () {\n  // Initialize main functionality\n  let tocExpand = true;\n\n  // Call the global initialization function from main.ts\n  if (typeof defer === \"function\") {\n    defer(load_globals);\n  } else {\n    load_globals();\n  }\n\n  // Setup event handlers\n  const setupKeyboardShortcuts = () => {\n    if (typeof Mousetrap !== \"undefined\") {\n      Mousetrap.bind(\"s\", () => focusSearch());\n      // Add other keyboard shortcuts as needed\n    }\n  };\n\n  const focusSearch = () => {\n    const searchInput = $(\"#search-box\");\n    if (searchInput.length > 0) {\n      searchInput.focus();\n    }\n  };\n\n  // Initialize components\n  setupKeyboardShortcuts();\n  initializeTOC();\n  initializeSearch();\n\n  // Example usage of shared utilities\n  const items = [\"item1\", \"item2\", \"item3\"];\n  console.log(\"Random item:\", random_from_list(items));\n  console.log(\"Shuffled items:\", shuffle([...items]));\n\n  // Initialize link loading\n  get_link_info().then(links => {\n    console.log(\"Links loaded, count:\", Object.keys(links).length);\n  });\n\n  // Log successful initialization\n  console.log(\"Blog JavaScript initialized\");\n});\n\n// Initialize TOC\nfunction initializeTOC() {\n  const tocElement = $(\"#toc-content\");\n  if (tocElement.length > 0) {\n    // TOC initialization code\n    console.log(\"TOC initialized\");\n  }\n}\n\n// Initialize search\nfunction initializeSearch() {\n  const searchElement = $(\"#search-box\");\n  if (searchElement.length > 0) {\n    // Search initialization code\n    console.log(\"Search initialized\");\n  }\n}\n\n// Export shared utilities and main functions for potential direct use\nexport {\n  random_from_list,\n  shuffle,\n  append_randomizer_div,\n  get_link_info,\n  // Export the interface types\n  type IURLInfo,\n  type IURLInfoMap,\n  load_globals,\n  MakeBackLinkHTML,\n  CreateAutoComplete,\n  // Recent posts export\n  initRecentAllPosts,\n  // Random prompter exports\n  add_random_prompts,\n  add_sunburst,\n  TreeNode,\n  // Page loader exports\n  load_enjoy2,\n  load_7_habits,\n  makePostPreviewHTML,\n  load_ig66,\n  load_balance,\n  load_random_eulogy,\n};\n","/**\n * Shared utility functions\n *\n * This file contains utility functions that are shared across multiple modules.\n */\n\n/**\n * Returns a random element from an array\n */\nexport function random_from_list<T>(list: T[]): T {\n  if (list.length === 0) return undefined;\n  return list[Math.floor(Math.random() * list.length)];\n}\n\n/**\n * Shuffles an array in place\n * https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array\n */\nexport function shuffle<T>(array: T[]): T[] {\n  let currentIndex = array.length,\n    randomIndex;\n\n  // While there remain elements to shuffle.\n  while (currentIndex != 0) {\n    // Pick a remaining element.\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex--;\n\n    // And swap it with the current element.\n    [array[currentIndex], array[randomIndex]] = [\n      array[randomIndex],\n      array[currentIndex],\n    ];\n  }\n\n  return array;\n}\n\n/**\n * This div gets content from the random_html_factory\n * and clicking does a re-randomize\n */\nexport async function append_randomizer_div(\n  parent_id: string | JQuery<HTMLElement>,\n  random_html_factory: () => string\n) {\n  // as string to queit type checker.\n  // Will be a noop if parent_id is already a jquery object\n  const $parent = $(parent_id as string);\n  if ($parent.length != 1) {\n    console.log(`append_randomizer_div ${parent_id} not present`);\n    return;\n  }\n  const new_element = $(await random_html_factory());\n  $parent.empty().append(new_element);\n\n  // Clicking on the element should result in a reload, unless you're\n  // Clicking on a link\n  $parent.click(async function (event) {\n    if (event.target.tagName != \"A\") {\n      const new_element = $(await random_html_factory());\n      $parent.empty().append(new_element);\n    }\n  });\n}\n\nexport interface IURLInfoMap {\n  [key: string]: IURLInfo;\n}\n\nexport interface IURLInfo {\n  url: string;\n  title: string;\n  description: string;\n  file_path: string;\n  outgoing_links: string[];\n  incoming_links: string[];\n  redirect_url: string;\n  doc_size: number;\n  last_modified: string;\n}\n\nlet cached_link_info: IURLInfoMap = null;\n\n/**\n * Gets link information from the back-links.json file\n */\nexport async function get_link_info(url?: string): Promise<IURLInfoMap> {\n  if (cached_link_info != null) {\n    return cached_link_info;\n  }\n  const current_url = url || window.location.href;\n  const prodPrefix = \"https://idvork.in\";\n  const isProd = current_url.includes(prodPrefix);\n\n  var backlinks_url =\n    \"https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/master/back-links.json?flush_cache=True\";\n\n  if (!isProd) {\n    backlinks_url = \"/back-links.json\";\n  }\n\n  try {\n    const response = await fetch(backlinks_url);\n    const data = await response.json();\n    cached_link_info = data.url_info;\n    return cached_link_info;\n  } catch (e) {\n    console.error(\"Error fetching link info\", e);\n    return {};\n  }\n}\n","// Import shared functions\nimport {\n  random_from_list,\n  shuffle,\n  append_randomizer_div,\n  get_link_info,\n  IURLInfo,\n  IURLInfoMap,\n} from \"./shared\";\n\nimport { initRecentPosts } from \"./recent-posts\";\nimport { initRecentAllPosts } from \"./recent\";\n\nlet tocExpand = true;\n\nfunction checkExpandToggle() {\n  const toc = $(\".ui-toc-dropdown .toc\");\n  const toggle = $(\".expand-toggle\");\n  if (!tocExpand) {\n    toc.removeClass(\"expand\");\n    toggle.text(\"Expand all\");\n  } else {\n    toc.addClass(\"expand\");\n    toggle.text(\"Collapse all\");\n  }\n}\n\nfunction SwapProdAndTest() {\n  /* Find page title. */\n  const url = window.location.href;\n  const prodPrefix = \"https://idvork.in\";\n  const testPrefix = \"http://localhost:4000\";\n  const isProd = url.includes(prodPrefix);\n  let newURL = url;\n  if (isProd) {\n    newURL = url.replace(prodPrefix, testPrefix);\n  } else {\n    newURL = url.replace(testPrefix, prodPrefix);\n  }\n\n  window.location.href = newURL;\n}\n\nfunction ForceShowRightSideBar() {\n  let toc = $(\"#right-sidebar\");\n  let mainContent = $(\"#main-content\");\n  toc.removeClass();\n  toc.addClass(\"col-4 pl-0\");\n\n  mainContent.removeClass();\n  mainContent.addClass(\"col-8 pr-0\");\n\n  // Hide DropUp\n  const tocDropUp = $(\"#id-ui-toc-dropdown\");\n  tocDropUp.removeClass();\n  tocDropUp.addClass(\"d-none\");\n}\n\n// <!-- Copied from hackmd-extras.js -->\nfunction generateToc(id, showPinToc) {\n  const target = $(`#${id}`);\n  target.html(\"\");\n  /* eslint-disable no-unused-vars */\n  /* @ts-ignore:TS2339*/\n  const toc = new window.Toc(\"content-holder\", {\n    level: 3,\n    top: -1,\n    class: \"toc\",\n    ulClass: \"nav\",\n    targetId: id,\n  });\n  /* eslint-enable no-unused-vars */\n  if (target.text() === \"undefined\") {\n    target.html(\"\");\n  }\n  const tocMenu = $('<div class=\"toc-menu\"></div');\n  const toggle = $('<a class=\"expand-toggle\" href=\"#\">Collapse all</a>');\n  const backToTop = $('<a class=\"back-to-top\" href=\"#\">Top of page</a>');\n  const gotoBottom = $('<a class=\"go-to-bottom\" href=\"#\">Bottom of page</a>');\n  const forceSideBar = $('<a class=\"go-to-bottom\" href=\"#\">Pin ToC</a>');\n  checkExpandToggle();\n  toggle.click(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    tocExpand = !tocExpand;\n    checkExpandToggle();\n  });\n  backToTop.click(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    window.scrollTo(0, 0);\n  });\n  gotoBottom.click(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    window.scrollTo(0, document.body.scrollHeight);\n  });\n  forceSideBar.click(e => ForceShowRightSideBar());\n  tocMenu.append(toggle).append(backToTop).append(gotoBottom);\n  if (showPinToc) {\n    tocMenu.append(forceSideBar);\n  }\n  target.append(tocMenu);\n}\n\nfunction MakeBackLinkHTML(url_info: IURLInfo) {\n  const title_href = `<a href=${url_info.url}>${url_info.title}</a>`;\n  const class_link = `link-box description truncate-css`;\n  const output = `\n<div>\n    <div class=\"${class_link}\"> ${title_href}:<span class=\"link-description\"> ${url_info.description} <span></div>\n</div>`;\n  return output;\n}\n\nasync function AddLinksToPage(allUrls: IURLInfoMap) {\n  // TODO handle redirects\n  const page_path = new URL(document.URL).pathname;\n  const backlinks = allUrls[page_path]?.incoming_links;\n  const frontlinks = allUrls[page_path]?.outgoing_links;\n\n  if (!backlinks && !frontlinks) {\n    console.log(`No backlinks for the page ${page_path}`);\n    return;\n  }\n\n  let link_parent_location = $(\"#links-to-page\");\n  if (!link_parent_location) {\n    console.log(\"No back_link_location\");\n    return;\n  }\n\n  link_parent_location.append(\n    `\n<ul class=\"nav nav-tabs nav-fill\" id=\"myTab\" role=\"tablist\">\n  <li class=\"nav-item\" role=\"presentation\">\n    <button class=\"nav-link active\" id=\"home-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#incoming\" type=\"button\" role=\"tab\" aria-controls=\"incoming\" aria-selected=\"true\">Links to here</button>\n  </li>\n  <li class=\"nav-item\" role=\"presentation\">\n    <button class=\"nav-link\" id=\"profile-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#outgoing\" type=\"button\" role=\"tab\" aria-controls=\"outgoing\" aria-selected=\"false\">Link from here</button>\n  </li>\n  <li class=\"nav-item\" role=\"presentation\">\n    <button class=\"nav-link\" id=\"profile-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#graph\" type=\"button\" role=\"tab\" aria-controls=\"outgoing\" aria-selected=\"false\">Graph</button>\n  </li>\n</ul>\n<div class=\"tab-content\" id=\"myTabContent\">\n  <div class=\"tab-pane fade show active \" id=\"incoming\" role=\"tabpanel\" aria-labelledby=\"incoming-tab\"></div>\n  <div class=\"tab-pane fade\" id=\"outgoing\" role=\"tabpanel\" aria-labelledby=\"outgoing-tab\"></div>\n  <div class=\"tab-pane fade\" id=\"graph\" role=\"tabpanel\" aria-labelledby=\"outgoing-tab\">\n    <span> View the graph for: </span>\n  </div>\n</div>\n`\n  );\n\n  let incoming_location = link_parent_location.find(\"#incoming\");\n  var sort_descending_by_size = (a, b) =>\n    Number(allUrls[b].doc_size) - Number(allUrls[a].doc_size);\n\n  if (backlinks) {\n    for (var link of backlinks.sort(sort_descending_by_size)) {\n      const url_info = allUrls[link];\n      incoming_location.append(MakeBackLinkHTML(url_info));\n    }\n  }\n\n  // remove front links not in\n  let clean_front_links = [];\n  for (var link of frontlinks) {\n    if (allUrls[link]) {\n      clean_front_links.push(link);\n    }\n  }\n\n  let outgoing_location = link_parent_location.find(\"#outgoing\");\n  if (clean_front_links) {\n    for (let link of clean_front_links.sort(sort_descending_by_size)) {\n      const url_info = allUrls[link];\n      outgoing_location.append(MakeBackLinkHTML(url_info));\n    }\n  }\n  console.log(\"Added Graph\");\n  const graph_location = link_parent_location.find(\"#graph\");\n  const stripped_page_path = page_path.replace(/\\//g, \"\");\n  graph_location.append(\n    `<a href='/graph#${stripped_page_path}'>${page_path} (${stripped_page_path}) </a>`\n  );\n}\nfunction make_html_summary_link(link, url_info: IURLInfo) {\n  const attribution = `(From:<a href='${url_info.url}'> ${url_info.title}</a>)`;\n\n  return `<div>\n        <i> ${url_info.description}</i> ${attribution}\n    </div>`;\n}\n\nfunction make_html_summary_link_error(link, error) {\n  return `<span class='text-danger'>Error: Invalid link for ${link.attr(\n    \"href\"\n  )} ${error} </span>`;\n}\n\nfunction AddSummarysToPage(backLinks: IBacklinks) {\n  const summary_links = $.makeArray($(\".summary-link\"));\n  summary_links.forEach(raw_link => {\n    const link = $(raw_link);\n    try {\n      console.log(link.attr(\"href\"));\n\n      let ref = link.attr(\"href\");\n\n      // Resolve redirect\n      if (backLinks.redirects[ref] != undefined) {\n        ref = backLinks.redirects[ref];\n      }\n      // Look up in url info\n      if (backLinks.url_info[ref] == undefined) {\n        link.html(make_html_summary_link_error(link, \"not found in url info\"));\n        return;\n      }\n\n      link.html(make_html_summary_link(link, backLinks.url_info[ref]));\n    } catch (e) {\n      link.html(make_html_summary_link_error(link, e));\n    }\n  });\n}\n\nasync function add_link_loader() {\n  AddLinksToPage(await get_link_info());\n  AddSummarysToPage(await get_back_links());\n}\n\nexport interface IBacklinks {\n  redirects: { [key: string]: string };\n  url_info: IURLInfoMap;\n}\n\nlet cached_back_links: IBacklinks = null;\nasync function get_back_links(): Promise<IBacklinks> {\n  if (cached_back_links != null) {\n    return cached_back_links;\n  }\n  const url = window.location.href;\n  const prodPrefix = \"https://idvork.in\";\n  const isProd = url.includes(prodPrefix);\n\n  var backlinks_url = \"\";\n  if (isProd) {\n    backlinks_url =\n      \"https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/master/back-links.json?flush_cache=True\";\n  } else {\n    backlinks_url = \"/back-links.json\";\n  }\n\n  const backlinksJson = (await ($.getJSON(backlinks_url) as any)) as IBacklinks;\n  cached_back_links = backlinksJson;\n  return cached_back_links;\n}\n\nfunction search() {\n  $(\"#autocomplete-search-box-button\").click();\n}\n\nfunction keyboard_shortcut_loader() {\n  const mouseTrap: any = Mousetrap();\n  mouseTrap.bind(\"s\", e => search());\n  mouseTrap.bind(\"t\", e => ForceShowRightSideBar());\n  mouseTrap.bind(\"p\", e => SwapProdAndTest());\n  mouseTrap.bind(\"a\", e => (location.href = \"/all\"));\n  mouseTrap.bind(\"m\", e => (location.href = \"/toc\"));\n  mouseTrap.bind(\"6\", e => (location.href = \"/ig66\"));\n\n  let shortcutHelp = `\nTry these shortcuts:\n  s - search\n  / - start chatting with others\n  t - force sidebar\n  p - swap prod and test\n  z - surprise me\n  a - all posts\n  m - global toc\n  6 - family journal\n  `;\n  mouseTrap.bind(\"?\", e => alert(shortcutHelp));\n}\n\n/**\n * Replaces placeholder links in the document with their corresponding list content.\n * @param listReplacements - An object mapping placeholder texts to list elements.\n */\nfunction replacePlaceholdersWithLists(\n  listReplacements: Record<string, Element>\n) {\n  Object.entries(listReplacements).forEach(([placeholderText, list]) => {\n    const placeholderLink = $(`a[href=${placeholderText}]`).first();\n    if (!placeholderLink.length) return; // Placeholder not found, skip\n\n    const listClone = $(list).clone();\n    listClone.children().first().remove(); // Remove the 'lookup id' from the list\n    placeholderLink.replaceWith(listClone);\n\n    // remove the list from the document\n    $(list).remove();\n  });\n}\n\n/**\n * Builds a map of list replacements by scanning the document for specially formatted lists.\n * @returns An object where keys are placeholder texts and values are the corresponding list elements.\n */\nfunction buildListReplacementMap(): Record<string, Element> {\n  const replacements: Record<string, Element> = {};\n  $(\"ul\").each((_, list) => {\n    const firstListItem = list.firstElementChild;\n    if (!firstListItem) return;\n\n    const firstItemText = firstListItem.textContent;\n    if (!firstItemText || !firstItemText.startsWith(\"l\")) return;\n\n    const listId = parseInt(firstItemText.substring(1));\n    if (isNaN(listId)) return;\n\n    replacements[firstItemText] = list;\n  });\n  return replacements;\n}\n\n/**\n * Replaces list placeholders in tables with actual list content.\n * This function orchestrates the process of finding and replacing placeholders.\n */\nfunction replaceListPlaceholdersInTables() {\n  console.log(\" Replacing List Placeholders in Tables\");\n  const listReplacements = buildListReplacementMap();\n  replacePlaceholdersWithLists(listReplacements);\n}\n\nfunction load_globals() {\n  $(add_link_loader);\n  $(keyboard_shortcut_loader);\n\n  // Replace list placeholders in tables\n  $(document).ready(replaceListPlaceholdersInTables);\n\n  console.log(\" About to call initRecentPosts from main.ts\");\n  initRecentPosts();\n  console.log(\" Called initRecentPosts from main.ts\");\n\n  // Initialize recent posts if the container exists\n  if (document.getElementById(\"last-modified-posts\")) {\n    console.log(\" About to call initRecentAllPosts from main.ts\");\n    initRecentAllPosts();\n    console.log(\" Called initRecentAllPosts from main.ts\");\n  }\n\n  $(function () {\n    generateToc(\"ui-toc\", true);\n    generateToc(\"ui-toc-affix\", false);\n  });\n}\n\nexport {\n  load_globals,\n  get_link_info,\n  MakeBackLinkHTML,\n  shuffle,\n  random_from_list,\n  append_randomizer_div,\n};\n","/**\n * Recent Posts Display Module\n *\n * Fetches and displays the most recently modified posts\n * from the backlinks.json file.\n */\n\nimport { IURLInfoMap, IURLInfo } from \"./shared\";\n\n/**\n * Updates the recent posts container with post data\n */\nasync function updateRecentPosts(): Promise<void> {\n  console.log(\" updateRecentPosts function called\");\n\n  const recentPostsContainer = document.getElementById(\"recent-posts\");\n  console.log(\" recent-posts container element:\", recentPostsContainer);\n\n  if (!recentPostsContainer) {\n    console.error(\" recent-posts container not found in DOM\");\n    return;\n  }\n\n  try {\n    console.log(\" Fetching back-links.json...\");\n    // Fetch the backlinks data\n    const response = await fetch(\"/back-links.json\");\n    const data = await response.json();\n    console.log(\" Received data from back-links.json:\", data);\n    console.log(\" Keys in data:\", Object.keys(data));\n\n    // Check if the expected structure exists\n    if (!data.url_info) {\n      console.error(\" Missing url_info in data structure\");\n      recentPostsContainer.innerHTML =\n        \"<p>Error: Could not load recent posts data.</p>\";\n      return;\n    }\n\n    const urlInfoMap: IURLInfoMap = data.url_info;\n    console.log(\n      \" Number of entries in urlInfoMap:\",\n      Object.keys(urlInfoMap).length\n    );\n\n    // Convert to array of pages for easier processing\n    const pages = Object.entries(urlInfoMap).map(([url, metadata]) => ({\n      url,\n      title: metadata.title || url,\n      description: metadata.description || \"\",\n      doc_size: metadata.doc_size || 0,\n      last_modified: metadata.last_modified || \"\",\n    }));\n    console.log(\" Transformed pages array, length:\", pages.length);\n\n    // Filter out pages that are likely redirects (these have empty descriptions and titles)\n    const realPages = pages.filter(\n      page =>\n        page.description &&\n        page.description.trim() !== \"\" &&\n        page.title &&\n        page.title.trim() !== \"\"\n    );\n    console.log(\" Filtered real pages, length:\", realPages.length);\n    console.log(\" First 3 real pages:\", realPages.slice(0, 3));\n\n    // Sort by last_modified date (newest first)\n    const sortedPages = realPages.sort((a, b) => {\n      if (a.last_modified && b.last_modified) {\n        console.log(\n          \" Comparing last_modified dates:\",\n          a.url,\n          a.last_modified,\n          \"vs\",\n          b.url,\n          b.last_modified\n        );\n        return (\n          new Date(b.last_modified).getTime() -\n          new Date(a.last_modified).getTime()\n        );\n      }\n      // Fallback to doc_size if last_modified is not available\n      return b.doc_size - a.doc_size;\n    });\n    console.log(\n      \" Sorted pages, first 5:\",\n      sortedPages.slice(0, 5).map(p => ({\n        url: p.url,\n        title: p.title,\n        last_modified: p.last_modified,\n      }))\n    );\n\n    // Take the top 5 most recent posts\n    const recentPages = sortedPages.slice(0, 5);\n\n    // Create the HTML\n    if (recentPages.length === 0) {\n      console.warn(\" No recent pages found after filtering and sorting\");\n      recentPostsContainer.innerHTML = \"<p>No recent posts found.</p>\";\n      return;\n    }\n\n    const html = `\n      <ul>\n        ${recentPages\n          .map(\n            page => `\n          <li>\n            <a href=\"${page.url}\">${page.title}</a> - \n            ${page.description.split(\"\\n\")[0].substring(0, 100)}${\n              page.description.length > 100 ? \"...\" : \"\"\n            }\n          </li>\n        `\n          )\n          .join(\"\")}\n      </ul>\n    `;\n\n    console.log(\n      \" Updating recent-posts content with HTML\",\n      html.substring(0, 100) + \"...\"\n    );\n    recentPostsContainer.innerHTML = html;\n    console.log(\" Recent posts updated successfully\");\n  } catch (error) {\n    console.error(\" Error loading recent posts:\", error);\n    recentPostsContainer.innerHTML =\n      \"<p>Error loading recent posts. Please try again later.</p>\";\n  }\n}\n\n/**\n * Initializes the recent posts component\n */\nexport function initRecentPosts(): void {\n  console.log(\" initRecentPosts called\");\n\n  // Check if document is already loaded\n  if (document.readyState === \"loading\") {\n    // Document still loading, add event listener\n    console.log(\" Document still loading, adding DOMContentLoaded listener\");\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      console.log(\n        \" DOMContentLoaded event fired, calling updateRecentPosts()\"\n      );\n      updateRecentPosts();\n    });\n  } else {\n    // Document already loaded, run immediately\n    console.log(\n      \" Document already loaded, calling updateRecentPosts() immediately\"\n    );\n    updateRecentPosts();\n  }\n\n  console.log(\" initRecentPosts completed initial setup\");\n}\n","/**\n * Recent Posts Display Module\n *\n * Fetches and displays all posts sorted by last modification date\n * from the backlinks.json file.\n */\n\nimport { IURLInfoMap, get_link_info } from \"./shared\";\n\ninterface PageInfo {\n  url: string;\n  title: string;\n  description: string;\n  doc_size: number;\n  last_modified: string;\n}\n\n/**\n * Updates the recent posts container with post data\n */\nasync function updateRecentPosts(): Promise<void> {\n  console.log(\" updateRecentPosts function called\");\n\n  const recentContainer = document.getElementById(\"last-modified-posts\");\n  console.log(\" recent-posts container element:\", recentContainer);\n\n  if (!recentContainer) {\n    console.error(\" recent-posts container not found in DOM\");\n    return;\n  }\n\n  try {\n    console.log(\" Fetching back-links.json...\");\n    // Fetch the backlinks data using the shared function\n    const urlInfoMap = await get_link_info();\n    console.log(\n      \" Number of entries in urlInfoMap:\",\n      Object.keys(urlInfoMap).length\n    );\n\n    // Convert to array of pages for easier processing\n    const pages: PageInfo[] = Object.entries(urlInfoMap).map(\n      ([url, metadata]) => ({\n        url,\n        title: metadata.title || url,\n        description: metadata.description || \"\",\n        doc_size: metadata.doc_size || 0,\n        last_modified: metadata.last_modified || \"\",\n      })\n    );\n    console.log(\" Transformed pages array, length:\", pages.length);\n\n    // Filter out pages that are likely redirects (these have empty descriptions and titles)\n    const realPages = pages.filter(\n      page =>\n        page.description &&\n        page.description.trim() !== \"\" &&\n        page.title &&\n        page.title.trim() !== \"\"\n    );\n    console.log(\" Filtered real pages, length:\", realPages.length);\n\n    // Sort by last_modified date (newest first)\n    const sortedPages = realPages.sort((a, b) => {\n      if (a.last_modified && b.last_modified) {\n        return (\n          new Date(b.last_modified).getTime() -\n          new Date(a.last_modified).getTime()\n        );\n      }\n      // Fallback to doc_size if last_modified is not available\n      return b.doc_size - a.doc_size;\n    });\n\n    // Create the HTML\n    if (sortedPages.length === 0) {\n      console.warn(\" No pages found after filtering and sorting\");\n      recentContainer.innerHTML = \"<p>No modified posts found.</p>\";\n      return;\n    }\n\n    // Define how many posts to show initially and in the expanded section\n    const initialPostsCount = 15;\n    const remainingPosts = sortedPages.slice(initialPostsCount);\n\n    // Group initial posts by month/year for better organization\n    const groupedPages: { [key: string]: PageInfo[] } = {};\n\n    sortedPages.slice(0, initialPostsCount).forEach(page => {\n      if (!page.last_modified) return;\n\n      const date = new Date(page.last_modified);\n      const monthYear = `${date.toLocaleString(\"default\", {\n        month: \"long\",\n      })} ${date.getFullYear()}`;\n\n      if (!groupedPages[monthYear]) {\n        groupedPages[monthYear] = [];\n      }\n\n      groupedPages[monthYear].push(page);\n    });\n\n    // Create HTML with grouped structure for initial posts\n    let html = \"\";\n\n    Object.entries(groupedPages).forEach(([monthYear, pages]) => {\n      html += `\n        <h3>${monthYear}</h3>\n        <ul class=\"last-modified-list\">\n          ${pages\n            .map(page => {\n              const date = new Date(page.last_modified);\n              const formattedDate = date.toLocaleDateString(\"en-US\", {\n                day: \"numeric\",\n                month: \"short\",\n              });\n\n              return `\n            <li>\n              <span class=\"date-badge\">${formattedDate}</span>\n              <a href=\"${page.url}\">${page.title}</a>\n              <p class=\"description\">${page.description\n                .split(\"\\n\")[0]\n                .substring(0, 150)}${\n                page.description.length > 150 ? \"...\" : \"\"\n              }</p>\n            </li>\n          `;\n            })\n            .join(\"\")}\n        </ul>\n      `;\n    });\n\n    // Add the \"Remaining Modified Files\" section if there are more posts\n    if (remainingPosts.length > 0) {\n      // Group remaining posts by month/year\n      const remainingGroupedPages: { [key: string]: PageInfo[] } = {};\n\n      remainingPosts.forEach(page => {\n        if (!page.last_modified) return;\n\n        const date = new Date(page.last_modified);\n        const monthYear = `${date.toLocaleString(\"default\", {\n          month: \"long\",\n        })} ${date.getFullYear()}`;\n\n        if (!remainingGroupedPages[monthYear]) {\n          remainingGroupedPages[monthYear] = [];\n        }\n\n        remainingGroupedPages[monthYear].push(page);\n      });\n\n      // Create the remaining posts HTML (initially hidden)\n      let remainingHtml = \"\";\n\n      Object.entries(remainingGroupedPages).forEach(([monthYear, pages]) => {\n        remainingHtml += `\n          <h3>${monthYear}</h3>\n          <ul class=\"last-modified-list\">\n            ${pages\n              .map(page => {\n                const date = new Date(page.last_modified);\n                const formattedDate = date.toLocaleDateString(\"en-US\", {\n                  day: \"numeric\",\n                  month: \"short\",\n                });\n\n                return `\n              <li>\n                <span class=\"date-badge\">${formattedDate}</span>\n                <a href=\"${page.url}\">${page.title}</a>\n                <p class=\"description\">${page.description\n                  .split(\"\\n\")[0]\n                  .substring(0, 150)}${\n                  page.description.length > 150 ? \"...\" : \"\"\n                }</p>\n              </li>\n            `;\n              })\n              .join(\"\")}\n          </ul>\n        `;\n      });\n\n      // Add the toggle section\n      html += `\n        <div class=\"remaining-posts-section\">\n          <h2 id=\"remaining-posts-toggle\" class=\"remaining-toggle\">\n            <span class=\"toggle-icon\"></span> Remaining Modified Files (${remainingPosts.length} more)\n          </h2>\n          <div id=\"remaining-posts-content\" class=\"remaining-content\" style=\"display: none;\">\n            ${remainingHtml}\n          </div>\n        </div>\n      `;\n    }\n\n    // Add some CSS for styling\n    html = `\n      <style>\n        .last-modified-list {\n          list-style-type: none;\n          padding-left: 0;\n        }\n        .last-modified-list li {\n          margin-bottom: 1.5rem;\n          position: relative;\n        }\n        .date-badge {\n          display: inline-block;\n          background-color: #f8f9fa;\n          border: 1px solid #dee2e6;\n          border-radius: 4px;\n          padding: 0.2rem 0.5rem;\n          margin-right: 0.5rem;\n          font-size: 0.8rem;\n        }\n        .description {\n          margin-top: 0.5rem;\n          margin-bottom: 0;\n          color: #6c757d;\n        }\n        .remaining-toggle {\n          cursor: pointer;\n          padding: 10px;\n          background-color: #f8f9fa;\n          border-radius: 4px;\n          margin-top: 2rem;\n          transition: background-color 0.3s;\n        }\n        .remaining-toggle:hover {\n          background-color: #e9ecef;\n        }\n        .toggle-icon {\n          display: inline-block;\n          transition: transform 0.3s;\n        }\n        .toggle-icon.open {\n          transform: rotate(90deg);\n        }\n      </style>\n      ${html}\n    `;\n\n    console.log(\n      \" Updating recent-posts content with HTML\",\n      html.substring(0, 100) + \"...\"\n    );\n    recentContainer.innerHTML = html;\n\n    // Add event listener for the toggle\n    const toggleElement = document.getElementById(\"remaining-posts-toggle\");\n    if (toggleElement) {\n      toggleElement.addEventListener(\"click\", function () {\n        const contentElement = document.getElementById(\n          \"remaining-posts-content\"\n        );\n        const iconElement = this.querySelector(\".toggle-icon\");\n\n        if (contentElement.style.display === \"none\") {\n          contentElement.style.display = \"block\";\n          iconElement.classList.add(\"open\");\n        } else {\n          contentElement.style.display = \"none\";\n          iconElement.classList.remove(\"open\");\n        }\n      });\n    }\n\n    console.log(\" Recent posts updated successfully\");\n  } catch (error) {\n    console.error(\" Error loading recent posts:\", error);\n    recentContainer.innerHTML =\n      \"<p>Error loading modified posts. Please try again later.</p>\";\n  }\n}\n\n/**\n * Initializes the recent posts component\n */\nexport function initRecentAllPosts(): void {\n  console.log(\" initRecentAllPosts called\");\n\n  // Check if document is already loaded\n  if (document.readyState === \"loading\") {\n    // Document still loading, add event listener\n    console.log(\" Document still loading, adding DOMContentLoaded listener\");\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      console.log(\n        \" DOMContentLoaded event fired, calling updateRecentPosts()\"\n      );\n      updateRecentPosts();\n    });\n  } else {\n    // Document already loaded, run immediately\n    console.log(\n      \" Document already loaded, calling updateRecentPosts() immediately\"\n    );\n    updateRecentPosts();\n  }\n\n  console.log(\" initRecentAllPosts completed initial setup\");\n}\n","// For autocomplete\nconst { autocomplete, getAlgoliaResults } = window[\"@algolia/autocomplete-js\"];\nimport { get_link_info, random_from_list } from \"./shared\";\n\n// Adding a query paramater.\n// import instantsearch from \"algoliasearch\";\n\nconst search_placeholder_text = \"Search Igor's Musings ...\";\n\nfunction getParameterByName(name, url): string {\n  if (!url) url = window.location.href;\n  name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n  var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n    results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return \"\";\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\nfunction InstantSearchHitTemplate(hit) {\n  // https://www.algolia.com/doc/api-reference/widgets/infinite-hits/js/\n  try {\n    let url = hit.url;\n    if (hit.anchor) {\n      url += `#${hit.anchor}`;\n    }\n    const highlighted = hit._highlightResult;\n\n    if (!highlighted) {\n      console.log(\"No Highlight\", hit);\n    }\n    const title = highlighted.title.value;\n    const content = highlighted?.content?.value ?? \"\";\n    // <section class=\"notepad-post-excerpt\"><p>${content}</p></section>\n\n    const string_rep = `\n           <span onClick=\"window.location='${url}';\">\n              <b> <a href=\"${url}\">${title}</a></b> <span>${content}</span>\n           </span>\n        `;\n    return string_rep;\n  } catch (err) {\n    console.log(\"Error in hitTemplate\", err, hit);\n  }\n  return \"invalid HTML\";\n}\n\ndeclare function instantsearch(l: any): any;\ndeclare function algoliasearch(l: any, l2: any): any;\n\nfunction CreateSearch(appid, search_api_key, index_name, initial_query) {\n  // Instanciating InstantSearch.js with Algolia credentials\n  const searchClient = algoliasearch(appid, search_api_key);\n  const search = instantsearch({\n    searchClient: searchClient,\n    indexName: index_name,\n    searchParameters: {\n      query: initial_query,\n    },\n  });\n\n  // Adding searchbar and results widgets\n  search.addWidget(\n    // @ts-ignore:TS2339\n    instantsearch.widgets.searchBox({\n      container: \"#search-box\",\n      placeholder: search_placeholder_text,\n      poweredBy: true, // This is required if you're on the free Community plan\n      showSubmit: false,\n      showReset: false,\n      showLoadingIndicator: false,\n    })\n  );\n\n  search.addWidget(\n    // @ts-ignore:TS2339\n    instantsearch.widgets.infiniteHits({\n      container: \"#search-hits\",\n      templates: {\n        item: InstantSearchHitTemplate,\n      },\n      item({ item }) {\n        return `Result: ${item.name}`;\n      },\n    })\n  );\n\n  return search;\n}\n\n// Copied from the docs, but this isn't working for me.\nfunction AutoCompleteHitTemplateWithComponentDoesNotWork({\n  item,\n  components,\n  createElement,\n  fragments,\n}) {\n  console.log(item);\n  return components.Highlight({ hit: item });\n}\n\n// Algolia uses some PREACT thing, which this project does not support\n// Reach way into algolia and build the HTML manually\nfunction AutoCompleteHitTemplate({ item, createElement }) {\n  // https://www.algolia.com/doc/api-reference/widgets/infinite-hits/js/\n  return createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: InstantSearchHitTemplate(item),\n    },\n  });\n}\n\nasync function get_random_post() {\n  const all_url_info = await get_link_info();\n  //  Yuk, find a clearere way to do this\n  const all_pages = Object.entries(all_url_info) // returns a list of [url, info]\n    .map(e => e[1]);\n  const random_post = random_from_list(all_pages);\n  const ret = {\n    title: random_post[\"title\"],\n    url: random_post[\"url\"],\n    description: random_post[\"description\"],\n  };\n  return ret;\n}\n\n/**\n * Gets recent posts from the back-links.json file\n * Returns the specified number of most recently modified posts\n */\nasync function get_recent_posts(count: number = 4) {\n  try {\n    const all_url_info = await get_link_info();\n\n    // Convert to array of pages for easier processing\n    const pages = Object.entries(all_url_info).map(([url, metadata]) => ({\n      url,\n      title: metadata.title || url,\n      description: metadata.description || \"\",\n      doc_size: metadata.doc_size || 0,\n      last_modified: metadata.last_modified || \"\",\n    }));\n\n    // Filter out pages that are likely redirects (these have empty descriptions and titles)\n    const realPages = pages.filter(\n      page =>\n        page.description &&\n        page.description.trim() !== \"\" &&\n        page.title &&\n        page.title.trim() !== \"\"\n    );\n\n    // Sort by last_modified date (newest first)\n    const sortedPages = realPages.sort((a, b) => {\n      if (a.last_modified && b.last_modified) {\n        return (\n          new Date(b.last_modified).getTime() -\n          new Date(a.last_modified).getTime()\n        );\n      }\n      // Fallback to doc_size if last_modified is not available\n      return b.doc_size - a.doc_size;\n    });\n\n    // Take the top N most recent posts\n    return sortedPages.slice(0, count);\n  } catch (error) {\n    console.error(\" Error loading recent posts:\", error);\n    return [];\n  }\n}\n\n/**\n * Gets random posts for search results\n * @param count Number of random posts to return (default: 3)\n */\nasync function GetRandomSearchResults(count: number = 3) {\n  return {\n    sourceId: \"random_posts\",\n    async getItems() {\n      const sized_array = new Array(count).join(\"_\").split(\"_\");\n      const random_posts = await Promise.all(\n        sized_array.map(async e => get_random_post())\n      );\n      return random_posts;\n    },\n    getItemUrl({ item }) {\n      const ret = item.url;\n      return ret;\n    },\n    templates: {\n      item({ item, createElement }) {\n        return createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: `\n            <span onClick=\"window.location='${item.url}';\" >\n           <b> <a href=\"${item.url}\">${item.title}</a></b>\n            <span>${item.description}</span>\n            </span>\n            `,\n          },\n        });\n      },\n      header({ createElement }) {\n        return createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: \"<i style='color:grey'>Random posts ...</i>\",\n          },\n        });\n      },\n    },\n  };\n}\n\n/**\n * Gets recent posts for search results\n * @param count Number of recent posts to return (default: 4)\n */\nasync function GetRecentSearchResults(count: number = 4) {\n  return {\n    sourceId: \"recent_posts\",\n    async getItems() {\n      const recentPosts = await get_recent_posts(count);\n      return recentPosts;\n    },\n    getItemUrl({ item }) {\n      const ret = item.url;\n      return ret;\n    },\n    templates: {\n      item({ item, createElement }) {\n        return createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: `\n            <span onClick=\"window.location='${item.url}';\" >\n           <b> <a href=\"${item.url}\">${item.title}</a></b>\n            <span>${item.description}</span>\n            </span>\n            `,\n          },\n        });\n      },\n      header({ createElement }) {\n        return createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: \"<i style='color:grey'>Recent posts ...</i>\",\n          },\n        });\n      },\n    },\n  };\n}\n\n/**\n * Gets featured posts from Algolia search\n * @param searchClient Algolia search client\n * @param index_name Index name to search\n * @param query Search query\n * @param hitsPerPage Number of results to return (default: 3)\n * @param includeFamilyJournal Whether to include family journal posts\n */\nfunction GetAlgoliaResults(\n  searchClient,\n  index_name,\n  query,\n  hitsPerPage: number = 3,\n  includeFamilyJournal = false\n) {\n  // By default don't include family journal.\n  let filter = \"NOT tags:family-journal\";\n  if (includeFamilyJournal) {\n    filter = \"\";\n  }\n\n  return {\n    sourceId: \"featured_posts\",\n    getItems() {\n      return getAlgoliaResults({\n        searchClient,\n        queries: [\n          {\n            indexName: index_name,\n            query,\n            filters: filter,\n            params: {\n              hitsPerPage: hitsPerPage,\n              highlightPreTag: \"<span style='background:yellow'>\",\n              highlightPostTag: \"</span>\",\n            },\n          },\n        ],\n      });\n    },\n    templates: {\n      item: AutoCompleteHitTemplate,\n      header({ createElement }) {\n        return createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: \"<i style='color:grey'>Featured posts ...</i>\",\n          },\n        });\n      },\n    },\n    getItemUrl({ item }) {\n      let url = item.url;\n      if (item.anchor) {\n        url += `#${item.anchor}`;\n      }\n      const ret = url;\n      return ret;\n    },\n  };\n}\n\n/**\n * Creates an autocomplete search component\n * @param appid Algolia app ID\n * @param search_api_key Algolia search API key\n * @param index_name Algolia index name\n * @param autocomplete_id ID of the autocomplete element\n * @param includeFamilyJournal Whether to include family journal posts\n * @param featuredCount Number of featured posts to show (default: 3)\n * @param recentCount Number of recent posts to show (default: 4)\n * @param randomCount Number of random posts to show (default: 3)\n */\nasync function CreateAutoComplete(\n  appid,\n  search_api_key,\n  index_name,\n  autocomplete_id,\n  includeFamilyJournal,\n  featuredCount: number = 3,\n  recentCount: number = 4,\n  randomCount: number = 3\n) {\n  const searchClient = algoliasearch(appid, search_api_key);\n  const randomSearchResults = await GetRandomSearchResults(randomCount);\n  const recentSearchResults = await GetRecentSearchResults(recentCount);\n\n  function GetSources({ query }) {\n    const isEmptySearch = query.length === 0;\n    if (isEmptySearch) {\n      // Searching for a space gives nice default results, so when no results search for that ...\n      query = \" \";\n    }\n\n    // Get featured posts (from Algolia search)\n    const featuredPosts = GetAlgoliaResults(\n      searchClient,\n      index_name,\n      query,\n      isEmptySearch ? featuredCount : 10, // Show N featured posts when empty, more when searching\n      includeFamilyJournal\n    );\n\n    // For empty search, show featured, recent, and random posts\n    // For actual search, just show search results\n    if (isEmptySearch) {\n      return [featuredPosts, recentSearchResults, randomSearchResults];\n    } else {\n      return [featuredPosts];\n    }\n  }\n\n  // Make sure we have the element\n  // autocomplete_id can be either '#id' or just 'id'\n  const elementId = autocomplete_id.startsWith(\"#\")\n    ? autocomplete_id\n    : `#${autocomplete_id}`;\n  if ($(elementId).length === 0) {\n    console.log(\n      \"No autocomplete element found\",\n      \"autocomplete_id\",\n      autocomplete_id\n    );\n    return;\n  }\n\n  // Setup Auto Complete Stuff\n  return autocomplete({\n    container: elementId,\n    placeholder: search_placeholder_text,\n    getSources: GetSources,\n    debug: false,\n    openOnFocus: true,\n    detachedMediaQuery: \"\",\n  });\n}\n\nexport { CreateSearch, getParameterByName, CreateAutoComplete };\n","// One of the imports is goofy\n// @ts-ignore:TS2792\nimport { SunburstClickEvent } from \"plotly.js\";\nimport { shuffle, random_from_list, append_randomizer_div } from \"./index\";\nimport {\n  isNullishCoalesce,\n  isTypeAliasDeclaration,\n} from \"../node_modules/typescript/lib/typescript\";\nclass TreeNode {\n  name: string;\n  children: [TreeNode];\n  value: number;\n  constructor({\n    name,\n    value = 25,\n    children = [],\n  }: {\n    name;\n    value?;\n    children?;\n  }) {\n    this.name = name;\n    // Keep it interesting\n    this.children = shuffle(children);\n    this.value = value;\n  }\n}\nfunction add_random_prompts() {\n  const map_category_to_prompts = category_to_prompts();\n  for (const category of map_category_to_prompts.keys()) {\n    render_prompt_for_category(category, map_category_to_prompts.get(category));\n  }\n}\n\nfunction render_prompt_for_category(category, prompts_for_category) {\n  //print one of the prompts\n  let get_random_prompt_html = () =>\n    `<span>${random_from_list(prompts_for_category)}</span><span style=\"float: right; cursor: pointer;\" title=\"Click for another prompt\"></span>`;\n\n  // add a place holder for random div.\n  const new_element = $(`<div class=\"alert alert-primary\" role=\"alert\"/>`);\n  $(category).after(new_element);\n  append_randomizer_div(new_element, get_random_prompt_html);\n}\n\n// The prompts page has a bunch of lists of prompts\n// Would be nice to \"pick a random one\" to make it less intimidating\n// So can add a box at the top with a random prompt on top\n// And a random per section prompt\n\nfunction category_to_prompts() {\n  // prompt_categories are H3s with a UL under them, and the li's under there are the prompt.\n  const starting_node = $(\"h3\").first();\n  let current_category = starting_node;\n  let prompts_for_category = [];\n  let map_category_to_prompts = new Map();\n  for (let node = starting_node; node.length != 0; node = $(node).next()) {\n    if (node.prop(\"tagName\") == \"H3\") {\n      // Build prompt map\n      map_category_to_prompts.set(current_category, prompts_for_category);\n\n      // start processing next categroy\n      current_category = node;\n      prompts_for_category = [];\n      continue;\n    }\n\n    // in a category, prompts are the children of the first unordered list, so skip\n    // stuff that isn't a list\n    if (node.prop(\"tagName\") != \"UL\") {\n      continue;\n    }\n    // we should now be the first list in the category\n    prompts_for_category = Array.from($(node).find(\"li\")).map(li =>\n      $(li).text()\n    );\n  }\n\n  map_category_to_prompts.set(current_category, prompts_for_category);\n\n  // Remove any categories that\n\n  return map_category_to_prompts;\n}\n// sunburst format is an inorder traversal of the tree.\n// good thing to unit test\n\nfunction* breadth_first_walk(node: TreeNode) {\n  if (!node) {\n    return;\n  }\n  let Q = [];\n  Q.push([node, null as TreeNode]);\n  while (Q.length > 0) {\n    const [current, parent]: [TreeNode, TreeNode] = Q.shift();\n    for (const child of current.children ?? []) {\n      Q.push([child, current]);\n    }\n    yield [current, parent];\n  }\n}\n\nfunction tree_to_plotly_data_format(root) {\n  // Plotly needs a tree to be flattened into a set of lists\n  // ids\n  // labels\n  // parents\n  // values\n\n  // JScript Experts: Is there a desctructing for this?\n  const names_parent_names = Array.from(breadth_first_walk(root)).map(\n    ([n, p]) => [n.name, p?.name]\n  );\n\n  return {\n    ids: names_parent_names.map(([n, p]) => n),\n    labels: names_parent_names.map(([n, p]) => n),\n    parents: names_parent_names.map(([n, p]) => p),\n  };\n}\n\nfunction category_to_prompts_text() {\n  const map = category_to_prompts();\n  const list = Array.from(map.entries()).map(([k, v], _index) => [\n    (k as any).text(),\n    v,\n  ]);\n  return new Map(list as any);\n}\n\n// We have a tree of nested categories. [node(category, children)]\n// and prompts stored in a map[category, prompt]\n// Join and walk\n\nfunction random_prompt_for_label(label, tree_node, map_node_to_prompts) {\n  // Find the label in the tree\n  // recall bread first search returns a parent as well.\n  const [clicked_node, _parent] = Array.from(\n    breadth_first_walk(tree_node)\n  ).find(([current, _parent]) => current.name == label);\n\n  // console.log(Array.from(breadth_first_walk(tree_node)));\n  // console.log(\"Label\", label);\n  // console.log(\"Clicked Node\", clicked_node);\n  // console.log(map_node_to_prompts);\n\n  // Gather all the prompts for the children of the clicked node.\n  let all_prompts = Array.from(breadth_first_walk(clicked_node))\n    .map(([node, _parent]) => node) // returns node and parent\n    .filter(node => map_node_to_prompts.has(node.name))\n    .map(node =>\n      map_node_to_prompts\n        .get(node.name)\n        .map(prompt => `${node.name}: ${prompt}`)\n    )\n    .flat();\n\n  return random_from_list(all_prompts);\n}\n\nasync function add_sunburst(\n  plot_element_id,\n  random_text_div_id,\n  root: TreeNode\n) {\n  const sunburst_tree_flat = tree_to_plotly_data_format(root);\n  var sunburst_data = {\n    type: \"sunburst\",\n    outsidetextfont: { size: 20, color: \"#377eb8\" },\n    // leaf: {opacity: 0.4},\n    hoverinfo: \"none\",\n    marker: { line: { width: 2 } },\n    maxdepth: 2,\n    displayModeBar: false,\n  };\n  Object.assign(sunburst_data, sunburst_tree_flat);\n  delete (sunburst_data as any).values; // remove values to avoid sizing pie slices\n\n  var sunburst_layout = {\n    margin: { l: 0, r: 0, b: 0, t: 0 },\n    sunburstcolorway: [\"#636efa\", \"#ef553b\", \"#00cc96\"],\n  };\n  const config = {\n    displayModeBar: false,\n  };\n\n  const sunburstPlot = await Plotly.newPlot(\n    plot_element_id,\n    [sunburst_data] as any,\n    sunburst_layout,\n    config\n  );\n  const set_random_prompt_text = text => {\n    console.log(\"set_random_prompt_text\", text);\n    $(`#${random_text_div_id}`).text(text);\n  };\n\n  // Set click handler for div\n  $(`#${random_text_div_id}`)\n    .first()\n    .click(() => {\n      const label = $(\"#sunburst text:first\").text(); // Hack should use an API to find center text\n      const prompt = random_prompt_for_label(\n        label,\n        root,\n        category_to_prompts_text()\n      );\n      set_random_prompt_text(prompt);\n    });\n\n  sunburstPlot.on(\"plotly_sunburstclick\", event => {\n    const label = event.points[0].label;\n    const prompt = random_prompt_for_label(\n      label,\n      root,\n      category_to_prompts_text()\n    );\n    set_random_prompt_text(prompt);\n  });\n}\n\nconst UT = {\n  breadth_first_walk: breadth_first_walk, // for UT\n  shuffle: shuffle,\n};\n\n// How do I export things only for testing?\n// I guess they should be in their own module\nexport { add_random_prompts, add_sunburst, TreeNode, UT, shuffle };\n","// Only include this in the html files, one per file\n// This allows code to seet things to refactor\nimport {\n  add_sunburst,\n  add_random_prompts,\n  TreeNode,\n  shuffle,\n} from \"./random-prompter\";\nimport { get_link_info } from \"./index\";\nimport { get } from \"lodash-es\";\nimport { append_randomizer_div, random_from_list } from \"./index\";\nimport { add_imported_blog_posts, add_eulogy_roles } from \"./blogger_import.js\";\n\nclass SevenHabits {\n  get_tree() {\n    const root = new TreeNode({\n      name: \"7H \",\n      children: [\n        new TreeNode({ name: \"\" }),\n        new TreeNode({ name: \"Be Proactive\" }),\n        new TreeNode({ name: \"Begin with the end in mind\" }),\n        new TreeNode({ name: \"First things First\" }),\n        new TreeNode({ name: \"Think Win/Win\" }),\n        new TreeNode({ name: \"First Understand\" }),\n        new TreeNode({ name: \"Synergize\" }),\n        new TreeNode({ name: \"Sharpen the Saw\" }),\n      ],\n    });\n    return root;\n  }\n}\n\nclass ThingsIEnjoy {\n  get_tree() {\n    const health = new TreeNode({\n      name: \"Health\",\n      children: [\n        { name: \"Physical\" },\n        { name: \"Emotional\" },\n        { name: \"Cognative\" },\n      ],\n      value: 31,\n    });\n    const magic = new TreeNode({\n      name: \"Magic\",\n      children: [\n        new TreeNode({ name: \"Card Magic\" }),\n        new TreeNode({ name: \"Coin Magic\" }),\n        new TreeNode({ name: \"Band Magic\" }),\n      ],\n    });\n    const hobbies = new TreeNode({\n      name: \"Hobbies\",\n      children: [\n        new TreeNode({ name: \"Biking\" }),\n        new TreeNode({ name: \"Tech\" }),\n        new TreeNode({ name: \"Juggling\" }),\n      ],\n    });\n    const relationships = new TreeNode({\n      name: \"Relationships\",\n      children: [\n        new TreeNode({ name: \"Zach\" }),\n        new TreeNode({ name: \"Amelia\" }),\n        new TreeNode({ name: \"Tori\" }),\n        new TreeNode({ name: \"Friends\" }),\n      ],\n    });\n    const joy = new TreeNode({\n      name: \"Joy\",\n      children: [\n        new TreeNode({ name: \"Balloons\" }),\n        new TreeNode({ name: \"Joy to Others\" }),\n      ],\n    });\n\n    return new TreeNode({\n      name: \"Invest in\",\n      children: [health, magic, hobbies, relationships, joy],\n    });\n  }\n}\n\n// TODO: De-Dup from blogger_import.ts\n\nfunction makePostPreviewHTML({ url, title, description }) {\n  // TODO: HACK: Strip to the right of Week number\n  const title_href = `<a href='${url}'}>${title}</a>`;\n  // random id for audio player\n  const id = \"audio_player_\" + Math.floor(Math.random() * 10000000000);\n  // filename is URL with '/' turned to '_'\n  const filename = url.replace(/\\//g, \"_\");\n  // console.log(post)\n  return `\n    <div>\n        <audio id='${id}'>\n          <source src=\"https://github.com/idvorkin/blob/raw/master/url_info_voices/igor/${filename}.mp3\" type=\"audio/mp3\">\n        </audio>\n      ${title_href}:  <b><a class='lead' onclick=\"toggle_play_pause('${id}')\"></a></b> ${description}\n    </div>\n  `;\n}\n\nasync function make_random_post_html() {\n  const all_url_info = await get_link_info();\n  //  Yuk, find a clearere way to do this\n  const all_pages = Object.entries(all_url_info) // returns a list of [url, info]\n    .map(e => e[1]);\n  const random_post = random_from_list(all_pages);\n  return makePostPreviewHTML({\n    url: random_post[\"url\"],\n    title: random_post[\"title\"],\n    description: random_post[\"description\"],\n  });\n}\n\nfunction load_random_eulogy() {\n  add_eulogy_roles(\"#e1\");\n  add_eulogy_roles(\"#e2\");\n  add_eulogy_roles(\"#e3\");\n}\n\nfunction load_enjoy2() {\n  add_sunburst(\"sunburst\", \"sunburst_text\", new ThingsIEnjoy().get_tree());\n  add_random_prompts();\n  add_imported_blog_posts(); // has a random achievement post\n  add_eulogy_roles(\"#random-eulogy-role\");\n  append_randomizer_div(\"#random-blog-posts\", make_random_post_html as any);\n}\nfunction load_7_habits() {\n  add_sunburst(\"sunburst\", \"sunburst_text\", new SevenHabits().get_tree());\n  add_random_prompts();\n}\nfunction load_ig66() {\n  add_imported_blog_posts();\n}\nfunction load_balance() {\n  make_balance_chart_by_desired_time_rest(\"balance-heatmap-rest\");\n  make_balance_chart_by_work(\"balance-heatmap-work\");\n  make_radar_map(\"balance-radar-map-ideal\");\n}\nconst UT = {\n  SevenHabits,\n  ThingsIEnjoy,\n};\n\nconst months = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n];\n\nasync function make_radar_map(div) {\n  const data = [\n    {\n      type: \"scatterpolar\",\n      r: [8, 8, 8, 5, 8, 8, 8],\n      theta: [\n        \"Work\",\n        \"Tech\",\n        \"Health\",\n        \"Hobbies\",\n        \"Relationships\",\n        \"Magic\",\n        \"Work\",\n      ],\n      name: \"2020 Goal\",\n      fill: \"toself\",\n    },\n    {\n      type: \"scatterpolar\",\n      r: [7, 7, 5, 5, 5, 9, 7],\n      theta: [\n        \"Work\",\n        \"Tech\",\n        \"Health\",\n        \"Hobbies\",\n        \"Relationships\",\n        \"Magic\",\n        \"Work\",\n      ],\n      name: \"2020 Actual\",\n      fill: \"toself\",\n    },\n  ];\n\n  const layout = {\n    polar: {\n      radialaxis: {\n        visible: true,\n        range: [0, 10],\n      },\n    },\n    showlegend: true,\n  };\n  const config = {\n    displayModeBar: false,\n  };\n\n  Plotly.newPlot(div, data as any, layout, config);\n}\n\nconst row_height = 20;\nconst heatmap_base = 100;\nconst ideal_color = \"#00BF00\";\nasync function make_balance_chart_by_work(div) {\n  const roles = [\"Tech\", \"Work\"];\n  const layout = {\n    height: row_height * roles.length + heatmap_base,\n    margin: {\n      t: 5,\n    },\n    pad: 0,\n  };\n  const color_scale = [\n    [0.0, \"darkblue\"],\n    [0.4, \"blue\"],\n    [0.5, ideal_color],\n    [0.6, \"darkred\"],\n    [1.0, \"red\"],\n  ];\n  const gap_desire_over_time = [\n    [7, 4, 7, 8, 2, 4, 2, 3, 2, 8], //  Tech\n    [10, 7, 5, 5, 3, 5, 6, 6, 7, 5], //  Work\n  ];\n\n  const data = [\n    {\n      colorscale: color_scale,\n      zmin: 0,\n      zmax: 10,\n      x: months.slice(2, 13),\n      y: roles,\n      z: gap_desire_over_time,\n      type: \"heatmap\",\n    },\n  ];\n  const config = {\n    displayModeBar: false,\n  };\n\n  await (Plotly as any).newPlot(div, data, layout, config);\n}\n\n// Could be over or under\n// GREEN be Good,\n// RED be Bad\nasync function make_balance_chart_by_desired_time_rest(div) {\n  const roles = [\"Health\", \"Hobbies\", \"Family\", \"Magic\"];\n  const gap_desire_over_time = [\n    // J, F, M, A, M, J, J, A, S, O, N, D\n    [4, 4, 3, 4, 5, 3, 2, 2, 3, 2], // Health\n    [4, 4, 3, 4, 5, 4, 4, 2, 4, 5], // Hobbies\n    [2, 3, 3, 4, 1, 5, 4, 3, 2, 4], // Family\n    [5, 5, 5, 4, 5, 5, 4, 5, 4, 5], //  Magic\n  ];\n\n  const color_scale = [\n    [0.0, \"red\"],\n    [0.4, \"darkred\"],\n    [0.5, ideal_color],\n    [0.6, \"blue\"],\n    [1.0, \"darkblue\"],\n  ];\n  const data = [\n    {\n      colorscale: color_scale,\n      zmin: 0,\n      zmax: 10,\n      x: months.slice(2, 13),\n      y: roles.reverse(),\n      z: gap_desire_over_time.reverse(),\n      type: \"heatmap\",\n    },\n  ];\n  const config = {\n    displayModeBar: false,\n  };\n  const layout = {\n    height: row_height * roles.length + heatmap_base,\n    margin: {\n      t: 5,\n    },\n    pad: 0,\n  };\n\n  await (Plotly as any).newPlot(div, data, layout, config);\n}\n\nexport {\n  UT,\n  load_enjoy2,\n  load_7_habits,\n  makePostPreviewHTML,\n  load_ig66,\n  load_balance,\n  load_random_eulogy,\n};\n","import { random_from_list, append_randomizer_div } from \"./index\";\nfunction html_for_blogpost(post) {\n  const item = $(\"<div/>\");\n  // TODO: HACK: Strip to the right of Week number\n  const title_href = `<h4> <a href='${post.url}'}>${post.title}</a></h4>`;\n  const monthNames = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ];\n\n  item.append(title_href);\n  // HACK: Upsize to larger thumbnail, seems like blogger auto resizes to include a 320 image as well.\n  const thumbnail_url = post.thumbnail.replace(\"s72-c\", \"s320\");\n\n  const published_date = new Date(post.published);\n  const excerptDisplayText = `\n    <div> ${\n      monthNames[published_date.getMonth()]\n    } ${published_date.getFullYear()} - ${post.excerpt}\n    </div>\n   `;\n  if (post.thumbnail != \"\") {\n    console.log(post.title);\n    console.log(published_date);\n    item.append(\n      // `<div> <a href='${post.url}'}><img src='${thumbnail_url}'/></div>`\n      `\n      <div style='overflow:auto'>\n\n      <a href='${post.url}'}><img class=\"img-fluid\" style='float:left; margin-right:10px' src='${thumbnail_url}'/></a>\n      ${excerptDisplayText}\n      </div>`\n    );\n  } else {\n    item.append(excerptDisplayText);\n  }\n  const ret = item.html();\n  return ret;\n}\n\nfunction get_achievement_posts(imported_posts: Array<any>) {\n  return imported_posts.filter(post =>\n    post.title.toLowerCase().includes(\"achievement\")\n  );\n}\nfunction get_recent_posts(imported_posts: Array<any>) {\n  return imported_posts.filter(post => post.tags.includes(\"family-journal\"));\n}\n\nfunction ProcessImports(posts: Array<any>) {\n  console.log(\"Processing\", posts.length, \"posts\");\n  if (!posts) {\n    console.log(`No posts being imported`);\n    return;\n  }\n\n  //\n  // Import all history\n  const random_div = \"#random-post\";\n  const achievement_div = \"#achievment\";\n  const random_recent = \"#random-recent\";\n\n  append_randomizer_div(random_div, () =>\n    html_for_blogpost(random_from_list(posts))\n  );\n\n  // Add a random achievement post\n  append_randomizer_div(achievement_div, () =>\n    html_for_blogpost(random_from_list(get_achievement_posts(posts)))\n  );\n  append_randomizer_div(random_recent, () =>\n    html_for_blogpost(random_from_list(get_recent_posts(posts)))\n  );\n}\n\nfunction add_imported_blog_posts() {\n  const imported_posts_url = \"/ig66/ig66-export.json\";\n  $.getJSON(imported_posts_url, ProcessImports);\n}\n//\n// Todo put in own file\ninterface Role {\n  title: string;\n  summary: string;\n  full_text: string;\n}\n\ninterface Roles {\n  roles: Role[];\n}\n\nfunction html_for_role(role: Role) {\n  // url encode the role title\n  const role_file_name = role.title.replace(/ /g, \"%20\");\n  const voices = [\"igor\", \"ammon\"];\n  const random_voice = voices[Math.floor(Math.random() * voices.length)];\n  // Yucky - toggle_play_pause is a global function in enjoy2.md - bleh,  so brittle\n  return `\n  <div>\n    <audio id=\"eulogy-player\">\n      <source src=\"https://github.com/idvorkin/blob/raw/master/read_eulogy/${random_voice}/${role_file_name}.mp3\" type=\"audio/mp3\">\n    </audio>\n  <b>${role.title} <a class='lead' onclick=\"toggle_play_pause('eulogy-player')\"></a></b> - ${role.summary}\n  </div>\n  `;\n}\n\nfunction ProcessEulogy(div: string, roles: Roles) {\n  if (!roles) {\n    console.log(`No roles being imported`);\n    return;\n  }\n  console.log(\"Processing\", roles.roles.length, \"roles\");\n\n  // Import all history\n  append_randomizer_div(div, () =>\n    html_for_role(random_from_list(roles.roles))\n  );\n}\n\nfunction add_eulogy_roles(div: string) {\n  const imported_posts_url = \"/eulogy.json\";\n  $.getJSON(imported_posts_url, (roles: Roles) => ProcessEulogy(div, roles));\n}\n\nexport { add_imported_blog_posts, add_eulogy_roles, html_for_role };\n"],"names":["$5c367f1c83ef0920$export$f6f0b6976f5f23e5","list","length","Math","floor","random","$5c367f1c83ef0920$export$448332262467e042","array","currentIndex","randomIndex","$5c367f1c83ef0920$export$7691c4557333f2d2","parent_id","random_html_factory","$parent","$","console","log","new_element","empty","append","click","event","target","tagName","$5c367f1c83ef0920$var$cached_link_info","$5c367f1c83ef0920$export$46c928bda6aa7b36","url","isProd","current_url","window","location","href","includes","backlinks_url","response","fetch","data","json","url_info","e","error","$3900136bb96a6238$var$updateRecentPosts","recentPostsContainer","document","getElementById","Object","keys","innerHTML","urlInfoMap","pages","entries","map","metadata","title","description","doc_size","last_modified","realPages","filter","page","trim","slice","sortedPages","sort","a","b","Date","getTime","p","recentPages","warn","html","split","substring","join","$75f29f91bc155aaa$var$updateRecentPosts","recentContainer","remainingPosts","groupedPages","forEach","date","monthYear","toLocaleString","month","getFullYear","push","formattedDate","toLocaleDateString","day","remainingGroupedPages","remainingHtml","toggleElement","addEventListener","contentElement","iconElement","querySelector","style","display","classList","add","remove","$75f29f91bc155aaa$export$559328b3f08f1a41","readyState","$417ebc8475d6fc5d$var$tocExpand","$417ebc8475d6fc5d$var$checkExpandToggle","toc","toggle","addClass","text","removeClass","$417ebc8475d6fc5d$var$ForceShowRightSideBar","mainContent","tocDropUp","$417ebc8475d6fc5d$var$generateToc","id","showPinToc","Toc","level","top","class","ulClass","targetId","tocMenu","backToTop","gotoBottom","forceSideBar","preventDefault","stopPropagation","scrollTo","body","scrollHeight","$417ebc8475d6fc5d$export$fc303307c4ed1d41","title_href","$417ebc8475d6fc5d$var$AddLinksToPage","allUrls","page_path","URL","pathname","backlinks","incoming_links","frontlinks","outgoing_links","link_parent_location","incoming_location","find","sort_descending_by_size","Number","link","clean_front_links","outgoing_location","graph_location","stripped_page_path","replace","$417ebc8475d6fc5d$var$make_html_summary_link_error","attr","$417ebc8475d6fc5d$var$add_link_loader","backLinks","$417ebc8475d6fc5d$var$get_back_links","summary_links","makeArray","raw_link","ref","undefined","redirects","$417ebc8475d6fc5d$var$make_html_summary_link","attribution","$417ebc8475d6fc5d$var$cached_back_links","getJSON","$417ebc8475d6fc5d$var$keyboard_shortcut_loader","mouseTrap","Mousetrap","bind","$417ebc8475d6fc5d$var$SwapProdAndTest","prodPrefix","testPrefix","newURL","shortcutHelp","alert","$417ebc8475d6fc5d$var$replaceListPlaceholdersInTables","$417ebc8475d6fc5d$var$replacePlaceholdersWithLists","listReplacements","placeholderText","placeholderLink","first","listClone","clone","children","replaceWith","$417ebc8475d6fc5d$var$buildListReplacementMap","replacements","each","_","firstListItem","firstElementChild","firstItemText","textContent","startsWith","isNaN","parseInt","$417ebc8475d6fc5d$export$38653e1d7f0b5689","ready","autocomplete","$bd9399c7e2744abd$var$autocomplete","getAlgoliaResults","$bd9399c7e2744abd$var$getAlgoliaResults","$bd9399c7e2744abd$var$AutoCompleteHitTemplate","item","createElement","dangerouslySetInnerHTML","__html","$bd9399c7e2744abd$var$InstantSearchHitTemplate","hit","anchor","highlighted","_highlightResult","value","content","err","$bd9399c7e2744abd$var$get_random_post","random_post","$bd9399c7e2744abd$var$get_recent_posts","count","all_url_info","$bd9399c7e2744abd$var$GetRandomSearchResults","sourceId","getItems","sized_array","Array","Promise","all","getItemUrl","templates","header","$bd9399c7e2744abd$var$GetRecentSearchResults","$bd9399c7e2744abd$export$b960629124c745df","appid","search_api_key","index_name","autocomplete_id","includeFamilyJournal","featuredCount","recentCount","randomCount","searchClient","algoliasearch","randomSearchResults","recentSearchResults","elementId","container","placeholder","getSources","query","isEmptySearch","featuredPosts","$bd9399c7e2744abd$var$GetAlgoliaResults","hitsPerPage","queries","indexName","filters","params","highlightPreTag","highlightPostTag","debug","openOnFocus","detachedMediaQuery","$6d425df71f5a07e7$export$2eba8ec3a333fdbb","constructor","name","$6d425df71f5a07e7$export$859810117f914263","map_category_to_prompts","$6d425df71f5a07e7$var$category_to_prompts","category","$6d425df71f5a07e7$var$render_prompt_for_category","prompts_for_category","after","get","starting_node","current_category","Map","node","next","prop","set","from","li","$6d425df71f5a07e7$var$breadth_first_walk","Q","current","parent","shift","child","$6d425df71f5a07e7$var$category_to_prompts_text","k","v","_index","$6d425df71f5a07e7$var$random_prompt_for_label","label","tree_node","map_node_to_prompts","clicked_node","_parent","has","prompt","flat","$6d425df71f5a07e7$export$722c014d8e7c7fc6","plot_element_id","random_text_div_id","root","sunburst_tree_flat","$6d425df71f5a07e7$var$tree_to_plotly_data_format","names_parent_names","n","ids","labels","parents","sunburst_data","type","outsidetextfont","size","color","hoverinfo","marker","line","width","maxdepth","displayModeBar","assign","values","sunburstPlot","Plotly","newPlot","margin","l","r","t","sunburstcolorway","set_random_prompt_text","on","points","$92ca6dc26425dcae$var$html_for_blogpost","post","thumbnail_url","thumbnail","published_date","published","excerptDisplayText","monthNames","getMonth","excerpt","$92ca6dc26425dcae$var$ProcessImports","posts","imported_posts","toLowerCase","tags","$92ca6dc26425dcae$export$42081a69ee292945","$92ca6dc26425dcae$export$13004ff06099531d","div","roles","$92ca6dc26425dcae$var$ProcessEulogy","$92ca6dc26425dcae$export$d5d79470c0eabcc3","role","role_file_name","voices","random_voice","summary","$9f283bd0ad425971$var$SevenHabits","get_tree","$9f283bd0ad425971$var$ThingsIEnjoy","health","magic","hobbies","relationships","joy","$9f283bd0ad425971$export$2a7b436ba2130b9d","filename","$9f283bd0ad425971$var$make_random_post_html","$9f283bd0ad425971$export$a05fecdd139cc0d6","$9f283bd0ad425971$export$ed4ccdb0ea359d16","$9f283bd0ad425971$export$690b8256aeac9ddf","$9f283bd0ad425971$export$5971d3574f6a5694","$9f283bd0ad425971$export$be5467d8e644e939","$9f283bd0ad425971$var$make_balance_chart_by_desired_time_rest","$9f283bd0ad425971$var$make_balance_chart_by_work","$9f283bd0ad425971$var$make_radar_map","$9f283bd0ad425971$var$months","theta","fill","polar","radialaxis","visible","range","showlegend","$9f283bd0ad425971$var$ideal_color","layout","height","$9f283bd0ad425971$var$row_height","pad","colorscale","zmin","zmax","x","y","z","reverse","gap_desire_over_time","defer","focusSearch","searchInput","focus","tocElement","searchElement","items","then","links","random_from_list","shuffle","append_randomizer_div","get_link_info","load_globals","MakeBackLinkHTML","CreateAutoComplete","initRecentAllPosts","add_random_prompts","add_sunburst","TreeNode","load_enjoy2","load_7_habits","makePostPreviewHTML","load_ig66","load_balance","load_random_eulogy"],"version":3,"file":"index.js.map"}