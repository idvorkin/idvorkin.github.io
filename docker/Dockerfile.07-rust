# Layer 7: Rust and cargo tools (optional, can skip if slow)
FROM claude-code:layer-06-jekyll AS rust-layer

# Switch to claude user for Rust installation
USER claude
WORKDIR /home/claude

# Install Rust
RUN curl https://sh.rustup.rs -sSf | sh -s -- -y && \
    . $HOME/.cargo/env && \
    cargo install ripgrep && \
    cargo install fd-find && \
    cargo install bat && \
    cargo install eza

# Back to root for next layers
USER root

# Save this layer
FROM rust-layer AS layer-07-rust