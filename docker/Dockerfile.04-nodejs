# Layer 4: Node.js and npm packages
FROM claude-code:layer-03-dev AS nodejs-layer

ENV DEBIAN_FRONTEND=noninteractive

# Install Node.js
RUN apt-get update && \
    apt-get install -y --no-install-recommends \
        nodejs \
        npm \
        && apt-get clean && \
        rm -rf /var/lib/apt/lists/*

# Install global npm packages
RUN npm install -g \
    typescript \
    prettier \
    eslint \
    @biomejs/biome \
    serve

# Save this layer
FROM nodejs-layer AS layer-04-nodejs