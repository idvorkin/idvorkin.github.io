# Layer 2: Git and GitHub tools
FROM claude-code:layer-01-base AS git-layer

ENV DEBIAN_FRONTEND=noninteractive

RUN apt-get update && \
    apt-get install -y --no-install-recommends \
        git \
        openssh-client \
        gh \
        tig \
        && apt-get clean && \
        rm -rf /var/lib/apt/lists/*

# Configure git
USER claude
RUN git config --global user.email "idvorkin@gmail.com" && \
    git config --global user.name "Igor Dvorkin" && \
    git config --global push.default simple && \
    git config --global push.autoSetupRemote true && \
    git config --global color.ui true

USER root

# Save this layer
FROM git-layer AS layer-02-git