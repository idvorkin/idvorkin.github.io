# Layer 8: Extra tools (optional)
FROM claude-code:layer-07-rust AS extras-layer

ENV DEBIAN_FRONTEND=noninteractive

# Additional tools that are nice to have
RUN apt-get update && \
    apt-get install -y --no-install-recommends \
        silversearcher-ag \
        mosh \
        autossh \
        imagemagick \
        ffmpeg \
        && apt-get clean && \
        rm -rf /var/lib/apt/lists/*

# More npm packages
RUN npm install -g \
    typescript-language-server \
    vscode-langservers-extracted \
    yaml-language-server \
    marksman

# More Python packages
RUN pipx install aider-chat && \
    pipx install httpie && \
    pipx install jupyterlab

# Save this layer
FROM extras-layer AS layer-08-extras