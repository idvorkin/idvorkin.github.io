# Layer 5: Python and pip packages
FROM claude-code:layer-04-nodejs AS python-layer

ENV DEBIAN_FRONTEND=noninteractive

# Install Python
RUN apt-get update && \
    apt-get install -y --no-install-recommends \
        python3 \
        python3-pip \
        python3-venv \
        && apt-get clean && \
        rm -rf /var/lib/apt/lists/*

# Install pipx and basic tools
RUN pip3 install --break-system-packages pipx && \
    pipx ensurepath && \
    pipx install uv && \
    pipx install ruff && \
    pipx install black && \
    pipx install pre-commit

# Save this layer
FROM python-layer AS layer-05-python